/*! For license information please see reactSearch.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=32)}([function(e,t,r){e.exports=r(22)()},function(e,t,r){"use strict";e.exports=r(20)},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){var n=r(27);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){var n=r(12),a=r(8);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},function(e,t,r){var n=r(24),a=r(25),o=r(17),i=r(26);e.exports=function(e){return n(e)||a(e)||o(e)||i()}},function(e,t,r){var n=r(28);e.exports=function(e,t){if(null==e)return{};var r,a,o=n(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(e,t,r){var n=r(29),a=r(30),o=r(17),i=r(31);e.exports=function(e,t){return n(e)||a(e,t)||o(e,t)||i()}},function(e,t,r){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n={siteKey:"api key",apiKey:"site key",isFlag:!0,searchEndPoint:"https://search.unbxd.io/",productType:"SEARCH",searchQueryParam:"q",browseQueryParam:"p",searchPath:"",productAttributes:["title"],defaultFilters:null,spellCheck:{enabled:!1},pageSize:5,startPageNo:0,facetMultiSelect:!0,updateUrls:!0,variants:void 0,extraParams:{},facetMultilevel:!0,facetDepth:6,showSwatches:!0,swatchMap:{},onEvent:function(){},getCategoryId:function(){return encodeURIComponent(window.UnbxdAnalyticsConf.page)||decodeURIComponent(location.pathname.split("category-path")[1].split("/").pop())},setCategoryId:function(e,t){var r,n=e.level,a=(e.parent,e.name),o=(e.action,[]),i=Number(n),c=t.getBreadCrumbsList();c.forEach((function(e,t){e.filterField;var r=e.value;i>t&&o.push(r)})),i>c.length&&o.push(a),r=o.join(">"),window.UnbxdAnalyticsConf&&(window.UnbxdAnalyticsConf.page=r)},applyMultipleFilters:!1,hashMode:!1,pagination:{type:"INFINITE_SCROLL"},onQueryRedirect:function(e,t){if(t){var r=t.value;return"url"===t.type&&(location.href=r),!1}}};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i={extraParamUrlString:function(){var e=this.options.extraParams,t="";return Object.keys(e).forEach((function(r){t+="&"+r+"="+e[r]})),t},renderFromUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!1,r=this.getQueryParams(e),n=this.options,o=n.pagination,i=n.searchQueryParam,c=n.browseQueryParam,s=n.productType,u="SEARCH"===s?i:c;if("object"===a(r)&&r[u]){var l=r.q,p=r.filter,f=r.sort,d=r.start;t=!0,this.state.userInput!==l&&(this.state.userInput=decodeURIComponent(l));var y=this.getFilterFromParams(p);this.state.rangeFacet=y.rangeFacet,this.state.selectedFacets=y.selectedFilters,this.state.selectedSort=f?decodeURIComponent(f):"",this.state.startPageNo=d||0,this.state.isBack=!1,"FIXED_PAGINATION"!==o.type&&(this.state.startPageNo=0),this.state.pageSize=r.rows?Number(r.rows):this.options.pageSize,this.state.categoryFilter=this.getCategoryFilterFromParams(r),t&&this.getResults()}},getQueryParams:function(e){var t=this.options,r=(t.searchQueryParam,t.hashMode,(this.options.hashMode?location.hash:location.search).substr(1));e&&(r=e);var n=r.split("&"),a=[];n.forEach((function(e,t){e.indexOf("=")>0?a.push(e):a[t-1]=a[t-1]+"&"+e}));for(var o={},i=0;i<a.length;i++){var c=a[i].split("=");void 0===o[c[0]]?o[c[0]]=c[1]:"string"==typeof o[c[0]]?(o[c[0]]=[o[c[0]]],o[c[0]].push(c[1])):o[c[0]].push(c[1])}return o},urlFlattenFacets:function(){var e="",t=this.state.selectedFacets;return Object.keys(t).forEach((function(r){var n=t[r];e+="&filter=",n.forEach((function(t,n){var a=t.name;e+=0===n?r+':"'+encodeURIComponent(a)+'"':" OR "+r+':"'+encodeURIComponent(a)+'"'}))})),e},getDefaultFiltersStr:function(){var e="",t=this.options.defaultFilters;return null!==t&&Object.keys(t).forEach((function(r){e+="&filter="+r+":"+JSON.stringify(t[r])})),e},getShowVariantsStr:function(){var e=this.options.variants;return e&&"boolean"==typeof e.enabled?"&variants=".concat(e.enabled):""},getVariantAttributesStr:function(){var e=this.options.variants;if(e){var t=e.enabled,r=e.attributes;return r&&t?"&variants.fields=".concat(r.join(",")):""}return""},getVariantsCountStr:function(){var e=this.options.variants;if(e){var t=e.enabled,r=e.count;return r&&t?"&variants.count=".concat(r):""}return""},getVariantsGroupByStr:function(){var e=this.options.variants;if(e){var t=e.enabled,r=e.groupBy;return r&&t?"&variants.groupBy=".concat(r):""}return""},getProductAttributesStr:function(){return this.options.productAttributes?"&fields="+this.options.productAttributes.join(","):""},getPageSizeStr:function(){return"&rows=".concat(this.state.pageSize)},getPageStartStr:function(){return"&start="+this.state.startPageNo},getNewUrlState:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.options,r=t.productType,n=t.searchQueryParam,a=t.browseQueryParam,o=this.state.userInput,i="",c=n;if("BROWSE"===r){i="",o=this.getCategoryId();var s="/category?";c=a,this.url=this.getBaseUrl()+s+c+"=".concat(o)}if("CATEGORY"===r){i="&pagetype=boolean",o=this.getCategoryId();var u="/category?";c=a,this.url=this.getBaseUrl()+u+c+"=".concat(o)}if("SEARCH"===r){var l="/search?";e&&(o=encodeURIComponent(o)),this.url=this.getBaseUrl()+l+c+"="+o}var p=this.urlFlattenFacets(),f=this.getShowVariantsStr(),d=this.getVariantAttributesStr(),y=this.getVariantsCountStr(),b=this.getVariantsGroupByStr(),m=this.getProductAttributesStr()+this.getDefaultFiltersStr(),g=this.getSortUrlString(),h=this.getSpellCheckUrlString(),v=this.getRangeFilterStr(),O=this.categoryFilterUrlStr(),C=this.options.facetMultiSelect?"&facet.multiselect=true":"&facet.multiselect=false",S="&facet.version=V2",w=this.url+O+C+p+f+d+y+b+m+g+h+v+i+this.getPageSizeStr()+this.getPageStartStr()+this.extraParamUrlString()+S;return e||(this.state.currentUrl=w),w},getRangeFilterStr:function(){var e=this.state.rangeFacet,t=Object.keys(e),r="";return t.forEach((function(t){var n=e[t];Array.isArray(n)?n.length>0&&(r+="&filter=".concat(t,":").concat(n.join(" OR ".concat(t,":")))):r+="&filter=".concat(t,":").concat(n)})),r},categoryFilterUrlStr:function(){var e=this,t=this.state.categoryFilter,r="";return Object.keys(t).forEach((function(n,a){var o=e.getAFacetByName(n)[0],i=e.getBreadCrumbsList(n),c=null;if(o){var s=o.filterField,u=o.values,l=t[n].map((function(e,t){if(c=u.find((function(t){return encodeURIComponent(t.name).replace(/[^\w\d]/g,"")===e.replace(/[^\w\d]/g,"")})),i){var r=i.find((function(t){return t.value===e}));r&&(c={name:r.value})}var n=e;return c&&(n=encodeURIComponent(c.name)),t>0&&(n=">"+n),n}));r+="categoryPath"===s?"&category-filter=".concat(l.join("")):"&filter=".concat(s,':"').concat(l.join(""),'"')}else t&&t.categoryPath&&(r+="&category-filter=".concat(t.categoryPath.join(">")))})),r},getSortUrlString:function(){var e=this.getSelectedSort();return e?"&sort="+encodeURI(e):""},getSpellCheckUrlString:function(){return this.options.spellCheck.enabled?"&spellcheck="+!0:""},getBaseUrl:function(){var e=this.options,t=e.searchEndPoint,r=e.siteKey;return t+e.apiKey+"/"+r},getStateFromUrl:function(){var e=this.getQueryParams(),t={},r=this.options.pagesize.pageSize;if("object"===o(e)){var n=e.q,a=e.filter,i=e.sort,c=e.start,s=e.rows,u=void 0===s?r:s;this.state.userInput!==n&&(t.userInput=n);var l=this.getFilterFromParams(a);t.rangeFacet=l.rangeFacet,t.selectedFacets=l.selectedFilters,t.selectedSort=i||"",t.startPageNo=c||0,t.pageSize=Number(u),t.categoryFilter=this.getCategoryFilterFromParams(e)}return t}},c=function(e){this.state.startPageNo=e},s=function(){var e=this.getSearchResults();if(!e)return null;var t=e.numberOfProducts,r=e.start,n=e.products,a=this.state.pageSize,o=0;t>0&&(o=t%a==0?t/a:Math.floor(t/a)+1);var i=Math.floor(r/a)+1,c=!(r+a>=t||r>=t),s=!(r-a<0||r<=0);return{numberOfProducts:t,start:r,productsLn:n.length,rows:a,noOfPages:o,currentPage:i||0,isNext:c,isPrev:s}},u=function(e){"number"==typeof e&&e===parseInt(e)&&(this.state.pageSize=e,this.state.startPageNo=0)},l=function(e){Array.isArray(e)?this.options.productAttributes=e:this.options.productAttributes="*"},p=function(e){var t=this.options.variants,r=void 0===t?{}:t;"boolean"==typeof e&&(r.enabled=e),this.options.variants=r},f=function(e){var t=this.options.variants,r=void 0===t?{}:t;"number"==typeof e&&(r.count=e),this.options.variants=r},d=function(e){var t=this.options.variants,r=void 0===t?{}:t;Array.isArray(e)&&(r.attributes=e),this.options.variants=r},y=function(e){var t=this.options.variants,r=void 0===t?{}:t;"string"==typeof e&&e.length>0&&(r.groupBy=e),this.options.variants=r},b=function(){return this.state.responseObj&&this.state.responseObj.searchMetaData||null},m=function(){var e=this.getResponseObj();return e&&e.response||null},g=function(){var e=this.getSearchMeta();return e&&e.queryParams||null},h=function(){if(this.state.responseObj){var e=this.state.responseObj.searchMetaData.queryParams;return e.q||e.p}return""},v="FETCH_ERROR",O="AFTER_API_CALL",C="BEFORE_API_CALL";function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var F=function(e){var t=[];return(e||[]).forEach((function(e,r){var n=e.values,a=e.displayName,o=e.facetName,i=e.filterField;o||(a&&(e.facetName=a),i&&(e.facetName=i)),e.values=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach((function(r,n){var a=r;if(r.name)t.push(w(w({},a),{},{dataId:r.name}));else{var o="";n%2==1&&(o=e[n-1],t.push({name:o,count:a,dataId:o}))}})),t}(n),t.push(e)})),t};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=this.state,n=r.userInput,a=r.isHistory,o=r.isBack,i=""===t?encodeURIComponent(n):t;if(this.state.userInput=i,this.state.currentUrl=this.getNewUrlState(),this.state.isLoading)return!1;this.state.isLoading=!0;var c=this,s=this.options,u=s.productType,l=s.hashMode,p=s.updateUrls,f=s.variants;if(!l&&p&&!a&&!o){this.state.isBack=!1;var d=this.state.currentUrl.split("".concat(u.toLocaleLowerCase(),"?"))[1];if(decodeURIComponent(location.search)!=="?".concat(decodeURIComponent(d)))return this.setUrl(!0),!1}this.options.spellCheck,this.callBack(this,C);var y=fetch(this.state.currentUrl);y.then((function(e){return e.json()})).then((function(t){if(e.state.isLoading=!1,e.state.userInput=decodeURIComponent(i),t){f&&f.enabled&&(t=e.processVariantMap(t)),e.state.responseObj=t;var r=e.getDidYouMeanFromResponse();r&&(e.state.didYouMean=r,e.state.noResultQuery=e.state.userInput);var n=t,s=n.facets,u=n.response;if(s){var l=e.getFacets(),d=F.bind(e)(l);t.facets=R(R({},s),{},{text:{list:d}})}if(u){var y=u.products,b=e.options.pagination;b&&"FIXED_SCROLL"!==b.type?e.state.products=e.state.products.concat(y):e.state.products=y}e.state.responseObj=t,e.setSort(),e.setStateFromData(),p&&a&&!o&&(e.state.isBack=!1,e.setUrl(!1)),e.callBack(c,O)}})).catch((function(t){e.state.isLoading=!1,e.state.userInput=decodeURIComponent(i),t&&e.callBack(c,v)}))},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,r=t.options.variants.mapping,n=void 0===r?{}:r,a=n,o=Object.keys(a);if(e.response&&e.response.products){var i=e.response.products.map((function(e){var t=e,r=t.variants,n=void 0===r?[]:r,i=t.relevantDocument,c=e;"variant"===i&&n.length>0&&(e=n[0],o.forEach((function(t){var r=a[t];c[t]=e[r]})));var s=[];return n.forEach((function(e,t){var r=e;o.forEach((function(t){var n=a[t];n&&(r[t]=e[n])})),s.push(r)})),c.variants=s,c}));e.response.products=i}return e},T=function(e,t){return this.state.products.find((function(r){return r[e]===t}))},I=function(){var e=this,t=this.getSearchQueryParams(),r=t.q,n=t.filter;this.state.userInput=r;var a=this.getFilterFromParams(n);this.state.rangeFacet=a.rangeFacet;var o=a.selectedFilters,i=null;o?Object.keys(o).forEach((function(t){if(e.isCategoryFacet(t)){i=t;var r=o[t][0].dataId;e.state.categoryFilter[i]=r.split(">"),e.state.selectedFacets[i]&&delete e.state.selectedFacets[i]}else e.state.selectedFacets[t]=o[t]})):this.state.selectedFacets={},0===Object.keys(this.state.categoryFilter).length&&(this.state.categoryFilter=this.getCategoryFilterFromParams(t)),this.state.breadcrumbs=this.getBreadCrumbs(i)},E=function(e){var t=this.state,r=t.urlState,n=t.isHistory;this.options.hashMode?decodeURIComponent(location.hash)!=="#".concat(decodeURIComponent(r))?((history.state||{}).path,this.state.isBack=!0,this.renderFromUrl(e.state)):this.callBack(this,"lastBack"):n?((history.state||{}).path,this.state.isBack=!0,this.renderFromUrl(e.state)):this.callBack(this,"lastBack")},D=function(e,t){var r={};return Object.keys(t).forEach((function(n){var a=t[n];r[n]=e[a]})),r},_=function(){var e=this.getResponseObj();if(e&&e.facets&&e.facets.multilevel){var t=e.facets.multilevel.list||[];return F(t)}return[]},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this,r={},n={};return"string"==typeof e&&(e=Array(e)),e.forEach((function(e,a){decodeURIComponent(e).split(" OR ").forEach((function(e,a){var o=e.split(/:(.+)/);if(3===o.length)if(o[1]=o[1].replace(/(^")|("$)/g,"").replace(/\"{2,}/g,'"').replace(/\\\"/g,'"').replace(/(^\[)|(\]$)/g,""),o[1].indexOf("TO")>0){var i=o[1].split(" TO "),c=o[0],s="[".concat(Number(i[0])," TO ").concat(Number(i[1]),"]");n[c]?n[c].push(s):n[c]=[s]}else{var u=t.getFacetByValue(o[0],decodeURIComponent(o[1]));if(u.actualFound){var l=u.facetName,p=u.selectedvalue;r[l]?r[l].push(p):r[l]=Array(p)}else{var f=u.facetName,d=u.selectedvalue,y={name:d.name,dataId:d.name,count:0};r[f]?r[f].push(y):r[f]=Array(y)}}}))})),{selectedFilters:r,rangeFacet:n}},A=function(e){var t=this,r=e.filter,n=[];if(e["category-filter"]&&(n=(r=e["category-filter"]).split(">")),!r)return{};Array.isArray(r)||(r=[r]),r=this.getFilterFromParams(r).selectedFilters;var a={};if(Object.keys(r).forEach((function(e){if(t.isCategoryFacet(e)){var n=r[e][0].dataId;a[e]=n.split(">")}})),n.length>0){var o=this.getBreadCrumbsList("categoryPath");o&&o.forEach((function(e){var t=e.filterField,r=(e.level,e.value);a[t]?a[t].push(r):a[t]=[r]})),n&&0===o.length&&(a.categoryPath=n)}return a},q=function(){var e=this.getResponseObj();if(e){var t=e.facets;return t&&t.range&&t.range.list?t.range.list:[]}return[]},M=function(){var e=this.getResponseObj();if(e){var t=e.facets;return t&&t.text&&t.text.list?t.text.list:[]}return[]},L=function(){return this.state.selectedFacets},B=function(e){return this.getFacets().find((function(t){return t.facetName===e?t:null}))},V=function(e){var t=this.state.selectedFacets,r=e.selectedFacetName,n="",a="",o=0,i=this.getSelectedFacetValue(e);if(i&&(n=i.name,a=i.dataId,o=i.count),this.isFacetAlreadyAdded(r,a))return!1;t[r]?t[r].push({name:n,dataId:a,count:o}):t[r]=[{name:n,dataId:a,count:o}],this.callBack(self,"added_facet"),this.options.applyMultipleFilters||(this.setPageStart(0),this.getResults.bind(this)())},X=function(e){var t=this.state.selectedFacets;this.clearFacets(!1),Object.keys(e).map((function(r){t[r]?delete t[r]:t[r]=e[r]})),this.setPageStart(0),this.getResults.bind(this)()},z=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.state.selectedFacets;Object.keys(t).map((function(e){return delete t[e]})),e&&(this.setPageStart(0),this.getResults.bind(this)())};function Q(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G=function(e){var t=this.state.selectedFacets;Object.keys(e).map((function(r){var n=t[r]||[];t[r]=[].concat(Q(n),Q(e[r]))}))},Y=function(e){return this.state.selectedFacets[e]},H=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.parent,n=void 0===r?null:r,a=t.level,o=void 0===a?null:a;if(t.name,o)if(this.state.categoryFilter[n])0==(o=Number(o)-1)?delete this.state.categoryFilter[n]:this.state.categoryFilter[n].splice(o,6);else{var i=this.getBreadCrumbsList(n);o>1&&(this.state.categoryFilter[n]=[],i.forEach((function(t,r){if(r<o-1){var a=t.value;e.state.categoryFilter[n].push(a)}})))}},K=function(e,t){var r=this.getSelectedFacets();if(t){var n=r[e];this.state.selectedFacets[e]=n.filter((function(e){return e.dataId!=t}))}else delete this.state.selectedFacets[e];return this.state.selectedFacets};function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ee=function(e,t){var r=this.getSelectedFacet(e)||{facetName:e},n=!1,a=r.values,o=void 0===a?[]:a,i={name:t};return o.length>0&&(n=!0,i=o.find((function(e){return e.name==t}))),i?Z(Z({},r),{},{selectedvalue:i,actualFound:n}):{facetName:e,actualFound:n,selectedvalue:{name:t,dataId:t,count:0}}},te=function(e){var t=e.selectedFacetId;return e.facetData.values.find((function(e){return e.dataId==t}))},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parent,r=void 0===t?null:t,n=e.level,a=void 0===n?null:n,o=e.name,i=void 0===o?null:o;if(a)if(this.state.categoryFilter[r])a=Number(a),this.state.categoryFilter[r][a-1]=i,this.callBack(this,"deletedcategoryFilter");else{var c=this.getBreadCrumbsList(r),s=[];(s=c.map((function(e){return e.value}))).push(i),this.state.categoryFilter[r]=s,this.callBack(this,"setCategoryFilter")}},ne=function(e){if(e.length){var t=this.options.extraParams["facet.multilevel"];this.state.categoryFilter[t]=[e]}},ae=function(e){var t=e.start,r=e.end,n=e.facetName,a=e.applyMultiple,o="[".concat(t," TO ").concat(r,"]");if(a)if(this.state.rangeFacet[n]){var i=this.state.rangeFacet[n].indexOf(o);i<0?this.state.rangeFacet[n].push(o):this.state.rangeFacet[n].splice(i,1)}else this.state.rangeFacet[n]=[o];else this.state.rangeFacet[n]=[o];this.callBack(self,"added_facet")},oe=function(e){var t=this.state.rangeFacet;t[e]&&delete t[e],this.state.rangeFacet=t},ie=function(e,t){this.deleteFacet(e,t),this.callBack(this,"deleted_facet"),this.options.applyMultipleFilters||(this.setPageStart(0),this.getResults.bind(this)())},ce=function(e,t){var r=this.getSelectedFacets()[e],n=!1;return r&&r.forEach((function(e){if(e.dataId===t)return n=!0,!1})),n},se=function(e){var t=this.state.rangeFacet;return e?t[e]:t};function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fe=function(){return function(e){var t=[];return(e||[]).forEach((function(e){for(var r=e.values,n=r.counts,a=r.gap,o=[],i=[],c=0;c<n.length;c+=2){var s=Number(n[c]),u={name:s,count:n[c+1],dataId:s};if(i.push(u),i.length>=2){var l=i[0],p=i[1];o.push({from:l,end:p}),i.shift()}}if(1===i.length){var f=i[0],d=f.dataId+a,y={name:d,count:0,dataId:d};o.push({from:f,end:y})}var b=o[0].from.dataId,m=o[o.length-1].end.dataId;e.start=b,e.end=m,e.max=m,e.gap=a||1,e.min=b,e.values=o,t.push(le(le({},e),{},{values:o}))})),t}(this.getRangeFacets())},de=function(e){var t=this.getAFacetByName(e)[0];return!!t&&"category"===t.facetType};function ye(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var me=function(){var e=this.getAllTextFacets(),t=this.getAllRangeFacets(),r=this.getAllCategory();return[].concat(ye(r),ye(e),ye(t)).sort(this.sortFacets)},ge=function(e){var t=this.getAllFacets(),r=[];return e&&(r=t.filter((function(t){return t.facetName===e}))),r},he=function(){var e=this.state.categoryFilter;return e?Object.keys(e):null},ve=function(){var e=this.getSelectedBucketedFacet(),t=this.getSelectedRanges(),r=this.getSelectedFacets();return Object.assign({},e,t,r)},Oe=function(){var e=this.getAllSelectedFacets()||{};return Object.keys(e).length},Ce=function(){var e=this.getAllSelectedFacets()||{},t=Object.keys(e),r=0;return t.forEach((function(t){var n=e[t];Array.isArray(n)&&(r+=n.length)})),r},Se=function(){return this.state.categoryFilter},we=function(){this.setPageStart(0),this.getResults.bind(this)()},Pe=function(e,t){return e.position>t.position?1:-1},Fe=function(){return this.getFacets().map((function(e){return e.facetType="text",e}))},je=function(){return this.getRanges().map((function(e){return e.facetType="range",e}))},Re=function(){return this.getBucketedFacets().map((function(e){return e.facetType="category",e}))},xe=function(e){for(var t=this.getBreadCrumbs(e),r=[],n=t,a=0;a<this.options.facetDepth&&(n.level&&function(){var e=n,t=e.level,a=e.values,o=e.filterField;a.forEach((function(e){r.push({level:t,filterField:o,value:e.value||e.name})}))}(),n.child);a++)n=n.child;return r},ke=function(e){var t=this.getResponseObj(),r=[];if(t&&t.facets&&t.facets.multilevel&&e){var n=t.facets.multilevel.list;n&&n.forEach((function(t){var n=t.filterField,a=t.breadcrumb;n===e&&(r=a)}))}return r},Ne=function(e){this.setSort(e),this.setPageStart(0),this.getResults.bind(this)()},Te=function(e){if(void 0!==e)this.state.selectedSort=e;else{var t=this.getSearchQueryParams();this.state.selectedSort=t.sort?t.sort:""}},Ie=function(){return this.state.selectedSort},Ee=function(){var e=this.getResponseObj()||{};return e&&e.didYouMean?e.didYouMean:[]},De=function(){return(this.state.didYouMean||[]).map((function(e){return e.suggestion}))},_e=function(e){this.options.spellCheck.enabled=!!e},Ue=function(){var e=this.getResponseObj()||{};return e&&e.banner&&e.banner.banners&&e.banner.banners||[]},Ae=function(e,t){this.state.userInput=e,this.callBack(e,t)},qe=function(){this.state.selectedFacets={},this.state.rangeFacet={},this.state.categoryFilter={},this.state.breadcrumbs={}},Me=function(){this.resetFacets(),this.state.didYouMean=null,this.state.startPageNo=0,this.state.selectedSort="",this.state.responseObj=null,this.state.userInput="",this.state.pageSize=this.options.pageSize};function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ve=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=Object.assign({},n,t),this.state={userInput:"",responseObj:null,selectedFacets:{},currentUrl:"",didYouMean:null,startPageNo:this.options.startPageNo||0,isLoading:!1,selectedSort:"",isUrlUpdated:!1,rangeSliderList:[],rangeFacet:{},categoryFilter:{},breadcrumbs:{},urlState:"",noResultQuery:"",pageSize:this.options.pageSize||12,urlLoad:!1,isHistory:window.history,isBack:!1,products:[]};var r=this.options,a=r.searchQueryParam,o=r.browseQueryParam,i=r.productType,c=r.getCategoryId,s=r.setCategoryId,u="/search?",l=a;"CATEGORY"===i&&(u="/category?",l=o),this.getCategoryId=c,this.setCategoryId=s,this.url=this.getBaseUrl()+u+l+"="}var t,r;return t=e,(r=[{key:"getResponseObj",value:function(){var e=this.state.responseObj;return e?function e(t){if(!t)return t;var r,n=Array.isArray(t)?[]:{};for(var a in t)r=t[a],n[a]="object"===Le(r)?e(r):r;return n}(e):null}},{key:"setUrl",value:function(e){var t=this.options,r=t.productType,n=t.hashMode,a=t.searchPath,o=t.onQueryRedirect,i=this.state,c=i.urlLoad,s=i.isHistory,u=i.responseObj,l=(void 0===u?{}:u).redirect;"function"==typeof o&&o(this,l);var p=this.getNewUrlState(!0).split("".concat(r.toLocaleLowerCase(),"?"))[1];this.state.urlState=p;var f=location.pathname.includes(a);if(n){var d="#".concat(p);f&&d!==location.hash&&(location.hash=p)}else{if(s&&!c&&f){var y="?".concat(p);decodeURI(y)!==decodeURI(location.search)&&(window.history.pushState(p,null,y),this.state.urlLoad=!1)}e&&f&&(location.search=p)}}},{key:"callBack",value:function(e,t){(0,this.options.onEvent)(this,t)}}])&&Be(t.prototype,r),e}();!function(e){var t=e.prototype;t.changeInput=Ae,t.resetFacets=qe,t.resetAll=Me,function(e){e=Object.assign(e,i)}(t),function(e){Object.assign(e,{setPageStart:c,getPaginationInfo:s,setPageSize:u})}(t),function(e){e=Object.assign(e,{setProductAttributes:l,setShowVariants:p,setVariantsCount:f,setVariantAttributes:d,setVariantsGroupBy:y,getSearchResults:m,getSearchMeta:b,getSearchQueryParams:g,getSearchQuery:h,getResults:k,processVariantMap:N,getProductByPropValue:T,setStateFromData:I,onLocationChange:E})}(t),function(e){Object.assign(e,{getSwatches:D})}(t),function(e){e=Object.assign(e,{getBucketedFacets:_,getSelectedBucketedFacet:Se,getFilterFromParams:U,getCategoryFilterFromParams:A,getRangeFacets:q,getFacets:M,getSelectedFacets:L,getSelectedFacet:B,updateFacets:V,applyFacets:X,clearFacets:z,addFacets:G,findSelectedFacet:Y,deleteCategoryFilter:H,deleteFacet:K,getFacetByValue:ee,getSelectedFacetValue:te,setCategoryFilter:re,setDefaultCategoryFilter:ne,setRangeFacet:ae,clearARangeFacet:oe,deleteAFacet:ie,applyRangeFacet:we,isFacetAlreadyAdded:ce,getSelectedRanges:se,getRanges:fe,sortFacets:Pe,isCategoryFacet:de,getAllFacets:me,getAFacetByName:ge,getSelectedMultilevelFacet:he,getAllTextFacets:Fe,getAllRangeFacets:je,getAllCategory:Re,getAllSelectedFacets:ve,getSelectedFacetsCount:Oe,getSelectedFacetValueCount:Ce})}(t),function(e){e=Object.assign(e,{getBreadCrumbsList:xe,getBreadCrumbs:ke})}(t),function(e){e=Object.assign(e,{applySort:Ne,getSelectedSort:Ie,setSort:Te})}(t),function(e){e=Object.assign(e,{getDidYouMeanFromResponse:Ee,getSpellCheckSuggested:De,setSpellCheck:_e})}(t),function(e){e=Object.assign(e,{getBanners:Ue})}(t)}(Ve);var Xe=Ve;t.default=Xe}]).default},function(e,t,r){},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){var n=r(16);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},,,function(e,t,r){"use strict";var n=r(21),a="function"==typeof Symbol&&Symbol.for,o=a?Symbol.for("react.element"):60103,i=a?Symbol.for("react.portal"):60106,c=a?Symbol.for("react.fragment"):60107,s=a?Symbol.for("react.strict_mode"):60108,u=a?Symbol.for("react.profiler"):60114,l=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,f=a?Symbol.for("react.forward_ref"):60112,d=a?Symbol.for("react.suspense"):60113,y=a?Symbol.for("react.memo"):60115,b=a?Symbol.for("react.lazy"):60116,m="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function O(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||h}function C(){}function S(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||h}O.prototype.isReactComponent={},O.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},O.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},C.prototype=O.prototype;var w=S.prototype=new C;w.constructor=S,n(w,O.prototype),w.isPureReactComponent=!0;var P={current:null},F=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,r){var n,a={},i=null,c=null;if(null!=t)for(n in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(i=""+t.key),t)F.call(t,n)&&!j.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];a.children=u}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===a[n]&&(a[n]=s[n]);return{$$typeof:o,type:e,key:i,ref:c,props:a,_owner:P.current}}function x(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var k=/\/+/g,N=[];function T(e,t,r,n){if(N.length){var a=N.pop();return a.result=e,a.keyPrefix=t,a.func=r,a.context=n,a.count=0,a}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function E(e,t,r){return null==e?0:function e(t,r,n,a){var c=typeof t;"undefined"!==c&&"boolean"!==c||(t=null);var s=!1;if(null===t)s=!0;else switch(c){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case o:case i:s=!0}}if(s)return n(a,t,""===r?"."+D(t,0):r),1;if(s=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var l=r+D(c=t[u],u);s+=e(c,l,n,a)}else if(null===t||"object"!=typeof t?l=null:l="function"==typeof(l=m&&t[m]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),u=0;!(c=t.next()).done;)s+=e(c=c.value,l=r+D(c,u++),n,a);else if("object"===c)throw n=""+t,Error(g(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return s}(e,"",t,r)}function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function _(e,t){e.func.call(e.context,t,e.count++)}function U(e,t,r){var n=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?A(e,n,r,(function(e){return e})):null!=e&&(x(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(k,"$&/")+"/")+r)),n.push(e))}function A(e,t,r,n,a){var o="";null!=r&&(o=(""+r).replace(k,"$&/")+"/"),E(e,U,t=T(t,o,n,a)),I(t)}var q={current:null};function M(){var e=q.current;if(null===e)throw Error(g(321));return e}var L={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:P,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];return A(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;E(e,_,t=T(null,null,t,r)),I(t)},count:function(e){return E(e,(function(){return null}),null)},toArray:function(e){var t=[];return A(e,t,null,(function(e){return e})),t},only:function(e){if(!x(e))throw Error(g(143));return e}},t.Component=O,t.Fragment=c,t.Profiler=u,t.PureComponent=S,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null==e)throw Error(g(267,e));var a=n({},e.props),i=e.key,c=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(c=t.ref,s=P.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)F.call(t,l)&&!j.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){u=Array(l);for(var p=0;p<l;p++)u[p]=arguments[p+2];a.children=u}return{$$typeof:o,type:e.type,key:i,ref:c,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=R,t.createFactory=function(e){var t=R.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:b,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:y,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return M().useCallback(e,t)},t.useContext=function(e,t){return M().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return M().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return M().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return M().useLayoutEffect(e,t)},t.useMemo=function(e,t){return M().useMemo(e,t)},t.useReducer=function(e,t,r){return M().useReducer(e,t,r)},t.useRef=function(e){return M().useRef(e)},t.useState=function(e){return M().useState(e)},t.version="16.14.0"},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,c,s=i(e),u=1;u<arguments.length;u++){for(var l in r=Object(arguments[u]))a.call(r,l)&&(s[l]=r[l]);if(n){c=n(r);for(var p=0;p<c.length;p++)o.call(r,c[p])&&(s[c[p]]=r[c[p]])}}return s}},function(e,t,r){"use strict";var n=r(23);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,o,i){if(i!==n){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){var n=r(16);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";r.r(t),r.d(t,"Banners",(function(){return Ne})),r.d(t,"Breadcrumbs",(function(){return Me})),r.d(t,"FacetActions",(function(){return Je})),r.d(t,"MultilevelFacets",(function(){return Pt})),r.d(t,"PageSize",(function(){return Lt})),r.d(t,"Pagination",(function(){return Jt})),r.d(t,"Products",(function(){return Ir})),r.d(t,"RangeFacets",(function(){return Wr})),r.d(t,"SearchBox",(function(){return bn})),r.d(t,"SearchTitle",(function(){return Sn})),r.d(t,"SelectedFacets",(function(){return Dn})),r.d(t,"Sort",(function(){return Wn})),r.d(t,"SpellCheck",(function(){return ia})),r.d(t,"TextFacets",(function(){return Fa})),r.d(t,"CombinedFacets",(function(){return Ua})),r.d(t,"ViewTypes",(function(){return Ga})),r.d(t,"UnbxdSearchWrapper",(function(){return Vo}));var n=r(9),a=r.n(n),o=r(1),i=r.n(o),c=r(0),s=r.n(c),u=Object(o.createContext)(),l=u.Provider,p=u.Consumer,f=r(2),d=r.n(f),y=r(10),b=r.n(y),m={siteName:"",siteKey:"",searchEndPoint:"https://search.unbxd.io/",searchQueryParam:"q",browseQueryParam:"q",productAttributes:["title"],defaultFilters:null,spellCheck:{enabled:!1},pageSize:10,startPageNo:0,facetMultiSelect:!0,facetMultiSelectionMode:!0,updateUrls:!0,extraParams:{version:"V2"},facetMultilevel:!0,facetDepth:6,productIdAttribute:"uniqueId",showSwatches:!0,swatchMap:{},onEvent:function(){},getCategoryId:function(){},applyMultipleFilters:!1,hashMode:!0,enableUnbxdAnalytics:!1},g="SEARCH",h="CATEGORY",v="BEFORE_API_CALL",O="AFTER_API_CALL",C="FETCH_ERROR",S="added_facet",w="READY",P="LOADING",F="ERROR",j="LIST",R="DROPDOWN",x={GRID:"GRID",LIST:"LIST"},k="ADD",N="REMOVE",T="RESET",I="CLEAR",E="APPLY",D="SET",_="INFINITE_SCROLL",U="CLICK_N_SCROLL",A="FIXED_PAGINATION",q="TEXT_FACET",M="RANGE_FACET",L="MULTILEVEL_FACET";function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X=function(e,t,r,n){var a=!!e,o=t.unbxdCoreStatus,c=void 0===o?w:o,s=t.showLoader;return c===P&&s&&n?n:a?"function"==typeof e?e(t):e:i.a.createElement(r,t)},z=function(e,t,r){if("function"==typeof e){var n=e.apply(void 0,b()(t));n&&r(n)}else r()},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Component";throw new Error("".concat(e," must be used within UnbxdSearchWrapper."))},$=function(e){return i.a.isValidElement(e)},G=function(e,t){return i.a.cloneElement(e,t)},Y=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=V({},t);return Object.keys(t).map((function(r){var a=e.remove[r]||[];n[r]=t[r].filter((function(e){return!a.find((function(t){return e.dataId===t.dataId}))}))})),Object.keys(e.add).map((function(t){var a=e.add[t]||[];n[t]=r?[].concat(b()(n[t]||[]),b()(a)):b()(a)})),n},H=r(4),K=r.n(H),W=r(5),Z=r.n(W),J=r(6),ee=r.n(J),te=r(7),re=r.n(te),ne=r(3),ae=r.n(ne),oe=function(e){var t=e.itemData,r=e.altText,n=t.imageUrl,a=t.landingUrl;return i.a.createElement("a",{href:a,className:"UNX-banner__item"},i.a.createElement("img",{alt:r,className:"-item",src:n}))};oe.propTypes={itemData:s.a.shape({imageUrl:s.a.string}),altText:s.a.string.isRequired};var ie=oe,ce=r(11),se=r.n(ce),ue="PRIMITIVE",le="OBJECT";function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var de=function(e){var t=e.items,r=e.ListItem,n=e.idAttribute,o=void 0===n?"id":n,c=e.className,s=void 0===c?"":c,u=e.onClick,l=e.itemsType,p=void 0===l?le:l,f=e.testId,d=se()(e,["items","ListItem","idAttribute","className","onClick","itemsType","testId"]);return i.a.createElement("div",{className:s,"data-testid":f},t.map((function(e,t){var n=p===ue?e:e[o];return $(r)?G(r,fe(fe({itemData:e,idAttribute:n,onClick:u||null,idx:t},d),{},{key:n})):i.a.createElement(r,a()({itemData:e,idAttribute:n,onClick:u||null,idx:t},d,{key:n}))})))};de.propTypes={items:s.a.array.isRequired,ListItem:s.a.oneOfType([s.a.element,s.a.func]).isRequired,className:s.a.string,onClick:s.a.func,idAttribute:s.a.string,testId:s.a.string};var ye=de,be=function(e){return i.a.createElement("button",a()({type:"button",tabIndex:0},e),e.children)};be.propTypes={children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node])};var me,ge=be,he=r(8),ve=r.n(he);function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var Ce=function(e){ee()(r,e);var t=Oe(r);function r(){var e;K()(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),d()(ve()(e),"inputRef",Object(o.createRef)()),d()(ve()(e),"handleClickClear",(function(){(0,e.props.onClear)(),e.inputRef.current.focus()})),e}return Z()(r,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.inputRef.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.value,r=e.name,n=e.onChange,a=e.className,o=e.clearable,c=e.clearComponent,s=e.onClear,u=e.placeholder,l=e.ariaLabel,p=t&&t.length>0&&o;return i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{value:t,name:r,placeholder:u,onChange:n||null,className:a,ref:this.inputRef,"aria-label":l}),p&&(c?G(c,{onSearchBoxClear:s}):i.a.createElement("div",{onClick:this.handleClickClear,className:"UNX-searchbox__clearIcon","data-testid":"UNX-searchbox__clearIcon"},"X")))}}]),r}(i.a.PureComponent);Ce.defaultProps={value:"",className:"",clearable:!1,autoFocus:!1,placeholder:""},Ce.propTypes=(me={value:s.a.string,name:s.a.string,placeholder:s.a.string,onChange:s.a.func.isRequired,className:s.a.string,clearable:s.a.bool,autoFocus:s.a.bool},d()(me,"onChange",s.a.func),d()(me,"ariaLabel",s.a.string),me);var Se=Ce,we=function(e){var t=e.facetName,r=e.toggleViewLess,n=e.viewLess;se()(e,["facetName","toggleViewLess","viewLess"]);return n?i.a.createElement("div",{className:"view-More","data-unx_name":t,onClick:r,"aria-label":"view more facets",tabIndex:0,role:"button"},"View More"):i.a.createElement("div",{className:"view-More","data-unx_name":t,onClick:r,"aria-label":"view less facets",tabIndex:0,role:"button"},"View Less")},Pe=function(e){var t=e.banners,r=e.altText,n=e.bannerItemComponent;return i.a.createElement(ye,{items:t,ListItem:n||ie,idAttribute:"imageUrl",altText:r,className:"UNX-banners__container"})};Pe.propTypes={banners:s.a.arrayOf(s.a.object),altText:s.a.string.isRequired,bannerItemComponent:s.a.element};var Fe=Pe;function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var Re=function(e){ee()(r,e);var t=je(r);function r(){return K()(this,r),t.apply(this,arguments)}return Z()(r,[{key:"getBannerProps",value:function(){var e=this.props,t=e.unbxdCore,r=e.altText,n=e.bannerItemComponent;return{banners:t.getBanners(),altText:r,bannerItemComponent:n}}},{key:"render",value:function(){var e=Fe;return X(this.props.children,this.getBannerProps(),e)}}]),r}(i.a.PureComponent);Re.propTypes={unbxdCore:s.a.object.isRequired,altText:s.a.string.isRequired,bannerItemComponent:s.a.element,children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node])};var xe=Re,ke=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.helpers,s=r.unbxdState.enableApplyFilters;return i.a.createElement(xe,a()({unbxdCore:n,unbxdCoreStatus:o,helpers:c,enableApplyFilters:s},t))}))};ke.displayName="Banners",ke.defaultProps={altText:"banner image"},ke.propTypes={altText:s.a.string,bannerItemComponent:s.a.element};var Ne=ke,Te=function(e){var t=e.itemData,r=e.root,n=e.separator,a=e.onClick,o=e.idx,c=t.value;return i.a.createElement(i.a.Fragment,null,0===o&&G(r),n,i.a.createElement(ge,{className:"UNX-breadcrumb__item",onClick:function(){a(t)}},c))};Te.propTypes={itemData:s.a.shape({value:s.a.string,level:s.a.number,filterField:s.a.string}).isRequired,root:s.a.oneOfType([s.a.element,s.a.func,s.a.node]),separator:s.a.node,onClick:s.a.func.isRequired,idx:s.a.number};var Ie=Te,Ee=function(e){var t=e.onBreadCrumbClick,r=e.breadCrumbsList,n=e.root,a=e.separator,o=e.breadcrumbItemComponent;return r.map((function(e){return i.a.createElement("div",{className:"UNX-breadcrumbs__container",key:e.length>0?e[0].filterField:Math.random()},i.a.createElement(ye,{items:e,idAttribute:"value",ListItem:o||Ie,root:n,separator:a,onClick:t,className:"UNX-breadcrumbs__list"}))}))};Ee.propTypes={breadCrumbsList:s.a.array,onBreadCrumbClick:s.a.func.isRequired,root:s.a.oneOfType([s.a.element,s.a.node]),separator:s.a.node,breadcrumbItemComponent:s.a.element};var De=Ee;function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var Ue=function(e){ee()(r,e);var t=_e(r);function r(){return K()(this,r),t.apply(this,arguments)}return Z()(r,[{key:"getBreadcrumbProps",value:function(){var e=this.props,t=e.unbxdCore,r=e.root,n=e.separator,a=e.breadcrumbItemComponent,o=e.onBreadcrumbClick,i=function(e){return{getBreadCrumbsList:e.getBreadCrumbsList.bind(e),deleteCategoryFilter:e.deleteCategoryFilter.bind(e),getBucketedFacets:e.getBucketedFacets.bind(e),getResults:e.getResults.bind(e)}}(t),c=i.getBreadCrumbsList,s=i.deleteCategoryFilter,u=i.getBucketedFacets,l=i.getResults,p=u(),f=[];p.map((function(e){var t=e.filterField,r=c(t);f.push(r)}));return{onBreadCrumbClick:function(e){var t=e.value,r={parent:e.filterField,level:e.level,name:t};z(o,[r],(function(){s(r),l()}))},breadCrumbsList:f,root:r,separator:n,breadcrumbItemComponent:a}}},{key:"render",value:function(){var e=De;return X(this.props.children,this.getBreadcrumbProps(),e)}}]),r}(i.a.PureComponent);Ue.propTypes={unbxdCore:s.a.object.isRequired,root:s.a.oneOfType([s.a.element,s.a.node]),separator:s.a.node,breadcrumbItemComponent:s.a.element,productType:s.a.string.isRequired,children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node])};var Ae=Ue,qe=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.helpers,s=r.productType;return i.a.createElement(Ae,a()({unbxdCore:n,unbxdCoreStatus:o,productType:s,helpers:c},t))}))};qe.displayName="Breadcrumbs",qe.defaultProps={},qe.propTypes={root:s.a.oneOfType([s.a.element,s.a.node]),separator:s.a.node,breadcrumbItemComponent:s.a.element,onBreadcrumbClick:s.a.func};var Me=qe;function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ve=function(e){var t=e.showApplyFilter,r=e.onApplyFilter,n=e.applyFilterComponent;return t?n?G(n,{onApplyFilter:r}):i.a.createElement(ge,{className:"UNX-facet__action -applyFilters",onClick:r},"Apply Facets"):null};Ve.propTypes={showApplyFilter:s.a.bool.isRequired,onApplyFilter:s.a.func.isRequired,applyFilterComponent:s.a.element};var Xe=Ve,ze=function(e){var t=e.showClearFilter,r=e.onClearFilter,n=e.clearFilterComponent;return t?n?G(n,{onClearFilter:r}):i.a.createElement(ge,{className:"UNX-facet__action  -clearFilters",onClick:r},"Clear Facets"):null};ze.propTypes={showClearFilter:s.a.bool.isRequired,onClearFilter:s.a.func.isRequired,clearFilterComponent:s.a.element};var Qe=ze,$e=function(e){var t=e.showApplyFilter,r=e.showClearFilter,n=e.onApplyFilter,a=e.onClearFilter,o=e.noOfPages,c=e.applyFilterComponent,s=e.clearFilterComponent;return 0===o?null:i.a.createElement("div",{className:"UNX-facetActions__container"},i.a.createElement(Xe,{showApplyFilter:t,onApplyFilter:n,applyFilterComponent:c}),i.a.createElement(Qe,{showClearFilter:r,onClearFilter:a,clearFilterComponent:s}))};$e.propTypes={onApplyFilter:s.a.func.isRequired,onClearFilter:s.a.func.isRequired,noOfPages:s.a.number.isRequired,showApplyFilter:s.a.bool,showClearFilter:s.a.bool,applyFilterComponent:s.a.element,clearFilterComponent:s.a.element};var Ge=$e;function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var Ke=function(e){ee()(r,e);var t=He(r);function r(){return K()(this,r),t.apply(this,arguments)}return Z()(r,[{key:"componentDidMount",value:function(){(0,this.props.helpers.setFacetsActionConfiguration)({enable:!0})}},{key:"getFacetActionsProps",value:function(){var e=this.props,t=e.unbxdCore,r=e.showApplyFilter,n=e.showClearFilter,a=e.applyFilterComponent,o=e.clearFilterComponent,i=e.selectedTextFacets,c=e.selectedRangeFacets,s=e.applyMultiple,u=e.helpers,l=u.manageTextFacets,p=u.manageRangeFacets,f=u.getAnalytics,y=e.onApply,b=e.onClear,m=function(e){return{applyFacets:e.applyFacets.bind(e),clearFacets:e.clearFacets.bind(e),lastSelectedRangeFacets:e.state.rangeFacet,setRangeFacet:e.setRangeFacet.bind(e),applyRangeFacet:e.applyRangeFacet.bind(e),clearARangeFacet:e.clearARangeFacet.bind(e),getPaginationInfo:e.getPaginationInfo.bind(e)}}(t),g=m.applyFacets,h=m.clearFacets,v=m.lastSelectedRangeFacets,O=m.setRangeFacet,C=m.clearARangeFacet,S=m.getPaginationInfo,w=f().trackFacetClick,P=t.getSearchQuery()||"",F=(S()||{}).noOfPages;return{showApplyFilter:r,showClearFilter:n,onApplyFilter:function(){z(y,[i,c],(function(){var e=c.list,r=i.list;t.state.rangeFacet={},Object.keys(e).map((function(t){e[t].map((function(e){var r=e.valMin,n=e.valMax;O({facetName:t,start:r,end:n,applyMultiple:s})}))})),g(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r)),w(P,function(e,t){var r={};Object.keys(e).map((function(t){var n=e[t];r[t]=[],n.map((function(e){var n=e.dataId;r[t].push(n)}))}));var n={};return Object.keys(t).map((function(e){var r=t[e];n[e]=[],r.map((function(t){var r=t.valMin,a=t.valMax;n[e].push("".concat(r," TO ").concat(a))}))})),Be(Be({},r),n)}(r,e)),l(null,null,null,E),p(null,null,null,E)}))},onClearFilter:function(){z(b,[i,c],(function(){Object.keys(v).map((function(e){C(e)})),h(),l(null,null,null,T),p(null,null,null,T)}))},manageTextFacets:l,manageRangeFacets:p,noOfPages:void 0===F?0:F,applyFilterComponent:a,clearFilterComponent:o}}},{key:"render",value:function(){var e=Ge;return X(this.props.children,this.getFacetActionsProps(),e)}}]),r}(i.a.PureComponent);Ke.propTypes={unbxdCore:s.a.object.isRequired,helpers:s.a.object.isRequired,selectedTextFacets:s.a.object,selectedRangeFacets:s.a.object,showApplyFilter:s.a.bool,showClearFilter:s.a.bool,applyMultiple:s.a.bool,applyFilterComponent:s.a.element,clearFilterComponent:s.a.element,onApply:s.a.func,onClear:s.a.func,children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node])};var We=Ke,Ze=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.helpers,s=r.unbxdState,u=s.selectedTextFacets,l=s.selectedRangeFacets,p=s.applyMultiple;return i.a.createElement(We,a()({unbxdCore:n,unbxdCoreStatus:o,helpers:c,selectedTextFacets:u,selectedRangeFacets:l,applyMultiple:p},t))}))};Ze.displayName="FacetActions",Ze.defaultProps={showApplyFilter:!0,showClearFilter:!0},Ze.propTypes={showApplyFilter:s.a.bool,showClearFilter:s.a.bool,applyFilterComponent:s.a.element,clearFilterComponent:s.a.element,onApply:s.a.func,onClear:s.a.func};var Je=Ze;function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rt=function(e,t){var r=t.getBreadCrumbsList.bind(t),n=[],a=0,o="";return e.map((function(e){var t=e.displayName,i=e.level,c=e.filterField,s=e.values,u=void 0===s?[]:s,l=e.position;o=t;var p=r(c);a=0;var f=p.map((function(e){return a<e.level&&(a=e.level),{filterField:e.filterField,level:e.level,name:e.value,isSelected:!0,dataId:e.value}})),d=[];if(a===i&&a>0){var y=f[f.length-1];d=[tt(tt({},u.find((function(e){var t=e.name;return y.name===t}))),{},{filterField:c,level:i,isSelected:!0})],f.pop()}else d=u.map((function(e){var t=e.name,r=e.count,n=e.dataId;return{filterField:c,level:i,name:t,count:r,dataId:n}}));var m={facetName:o,filterField:c,displayName:t,facetType:L,position:l,values:[].concat(b()(f),b()(d)),highestBreadcrumbLevel:a};n.push(m)})),n},nt=function(e){return{getBucketedFacets:e.getBucketedFacets.bind(e),getBreadCrumbsList:e.getBreadCrumbsList.bind(e),setCategoryFilter:e.setCategoryFilter.bind(e),deleteCategoryFilter:e.deleteCategoryFilter.bind(e),getResults:e.getResults.bind(e)}},at=r(12),ot=r.n(at);function it(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?it(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function st(e,t){var r=t.target.dataset.unx_name;this.setState((function(t){var n=t[e].map((function(e){return e.facetName===r||e.filterField===r?ct(ct({},e),{},{viewLess:void 0===ot()(e.viewLess)||!e.viewLess}):e}));return ct(ct({},t),{},d()({},e,n))}))}function ut(e,t){var r=t.target.dataset.unx_name;this.setState((function(t){var n=t[e].map((function(e){return e.facetName===r||e.filterField===r?ct(ct({},e),{},{isOpen:!(0!=e.isOpen)}):e}));return ct(ct({},t),{},d()({},e,n))}))}function lt(e,t){var r=t.target,n=r.name,a=r.value;this.setState((function(t){var r=t[e].map((function(e){return n===e.facetName||n===e.filterField?ct(ct({},e),{},{filter:a.toLowerCase()}):e}));return ct(ct({},t),{},d()({},e,r))}))}var pt=function(e){var t=e.itemData,r=e.onClick,n=t.name,a=t.count,o=t.level,c=t.isSelected,s=void 0!==c&&c,u=t.fieldName;return i.a.createElement(ge,{className:"UNX-facet__item -l".concat(o," ").concat(s?"-selected":""),onClick:function(){r(t)},"data-testid":"UNX_multilevelFacet__facetItem","data-facet-name":u,"data-id":n},n," ",a&&i.a.createElement("span",null,"-",a))};pt.propTypes={itemData:s.a.shape({name:s.a.string,count:s.a.number,level:s.a.number,isSelected:s.a.bool,fieldName:s.a.string}).isRequired,onClick:s.a.func.isRequired};var ft=pt;function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var mt=function(e){ee()(r,e);var t=bt(r);function r(e){var n;return K()(this,r),(n=t.call(this,e)).state={multilevelFacetsList:e.multilevelFacets},n.toggleViewLess=st.bind(ve()(n),"multilevelFacetsList"),n.handleFilterChange=lt.bind(ve()(n),"multilevelFacetsList"),n.handleCollapseToggle=ut.bind(ve()(n),"multilevelFacetsList"),n}return Z()(r,[{key:"componentDidUpdate",value:function(e){var t=this,r=this.props.multilevelFacets;if(e.multilevelFacets!==r){var n=r.map((function(e){var r=t.state.multilevelFacetsList.find((function(t){return t.filterField===e.filterField}));return yt(yt({},e),{},{isOpen:!r||r.isOpen,filter:r?r.filter:"",viewLess:!!r&&r.viewLess})}));this.setState((function(e){return yt(yt({},e),{},{multilevelFacetsList:n})}))}}},{key:"render",value:function(){var e=this,t=this.props,r=t.onFacetClick,n=t.facetItemComponent,a=t.label,o=t.collapsible,c=t.searchable,s=t.enableViewMore,u=t.minViewMore,l=this.state.multilevelFacetsList;return 0===l.length?null:i.a.createElement("div",{className:"UNX-bucketedFacet__container"},a||null,l.map((function(t){var a=t.displayName,l=t.filterField,p=t.values,f=void 0===p?[]:p,d=t.isOpen,y=void 0===d||d,b=t.filter,m=void 0===b?"":b,g=t.viewLess,h=f;return m.length>0&&(h=f.filter((function(e){return e.name.toLowerCase().includes(m)}))),i.a.createElement("div",{className:"UNX-facet__element ".concat(y?"open":""),key:l},i.a.createElement("div",{className:"UNX-facet__header"},a,o&&i.a.createElement("span",{className:"-collapse-icon","data-unx_name":l,onClick:e.handleCollapseToggle,tabIndex:0,role:"button","aria-label":"".concat(y?"collapse":"open"," facets")})),c&&y&&i.a.createElement("div",{className:"UNX-facetFilter__container"},i.a.createElement(Se,{className:"-input",value:m,name:l,onChange:e.handleFilterChange,"data-testid":"UNX_searchFacets",ariaLabel:"".concat(a," facets filter")})),i.a.createElement(ye,{items:h,ListItem:n||ft,idAttribute:"dataId",onClick:r,className:"UNX-facet__list ".concat(g?"UNX-facet__listShowLimited":"")}),s&&y&&h.length>u?i.a.createElement(we,{facetName:l,toggleViewLess:e.toggleViewLess,viewLess:g}):null)})))}}]),r}(i.a.Component);mt.propTypes={multilevelFacets:s.a.array.isRequired,onFacetClick:s.a.func.isRequired,facetItemComponent:s.a.element,label:s.a.node,collapsible:s.a.bool,searchable:s.a.bool};var gt=mt,ht=function(e){var t=e.onFacetClick,r=e.multilevelFacets,n=e.facetItemComponent,a=e.label,o=e.collapsible,c=e.searchable,s=e.enableViewMore,u=e.minViewMore;return i.a.createElement(gt,{onFacetClick:t,multilevelFacets:r,facetItemComponent:n,label:a,collapsible:o,minViewMore:u,enableViewMore:s,searchable:c})};ht.propTypes={onFacetClick:s.a.func.isRequired,facetItemComponent:s.a.element,multilevelFacets:s.a.array,label:s.a.node,collapsible:s.a.bool,searchable:s.a.bool,enableViewMore:s.a.bool,minViewMore:s.a.number};var vt=ht;function Ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var Ct=function(e){ee()(r,e);var t=Ot(r);function r(){return K()(this,r),t.apply(this,arguments)}return Z()(r,[{key:"getMultilevelFacetsProps",value:function(){var e=this,t=this.props,r=t.unbxdCore,n=t.facetItemComponent,a=t.label,o=t.collapsible,i=t.searchable,c=t.onFacetClick,s=t.enableViewMore,u=t.minViewMore,l=t.productType,p=nt(r),f=p.getBucketedFacets,d=p.getBreadCrumbsList,y=p.setCategoryFilter,b=p.deleteCategoryFilter,m=f()||[],g=rt(m,r);return{multilevelFacets:g,onFacetClick:function(t){var n=t.name,a=t.filterField,o=t.level,i={parent:a,level:o,name:encodeURIComponent(n)},s=e.props.helpers.getUpdatedResults,u=g.find((function(e){return e.filterField===a})).highestBreadcrumbLevel;z(c,[i],(function(){if(u===parseInt(o))b(i);else{var e=d(a);if(l===h)r.state.categoryFilter[a]=[],d(a).forEach((function(e){var t=e.value,r=e.level;y({parent:a,level:r,name:t})})),i.level>=u?y(i):b(i),s();else e.find((function(e){var t=e.value;return n===t}))?b(i):y(i)}s()}))},facetItemComponent:n,label:a,collapsible:o,searchable:i,enableViewMore:s,minViewMore:u}}},{key:"render",value:function(){var e=vt;return X(this.props.children,this.getMultilevelFacetsProps(),e)}}]),r}(i.a.PureComponent);Ct.propTypes={unbxdCore:s.a.object.isRequired,unbxdCoreStatus:s.a.string.isRequired,helpers:s.a.object.isRequired,productType:s.a.string,facetDepth:s.a.number,facetLimit:s.a.number,facetItemComponent:s.a.element,label:s.a.node,collapsible:s.a.bool,searchable:s.a.bool,enableViewMore:s.a.bool,minViewMore:s.a.number,onFacetClick:s.a.func,children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node])};var St=Ct,wt=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.helpers,s=r.productType;return i.a.createElement(St,a()({unbxdCore:n,unbxdCoreStatus:o,helpers:c,productType:s},t))}))};wt.displayName="MultilevelFacets",wt.defaultProps={collapsible:!1,searchable:!1,minViewMore:3,enableViewMore:!1},wt.propTypes={collapsible:s.a.bool,searchable:s.a.bool,minViewMore:s.a.number,enableViewMore:s.a.bool,facetItemComponent:s.a.element,label:s.a.node,onFacetClick:s.a.func};var Pt=wt,Ft=function(e){var t=e.sizeOptions,r=e.onPageSizeClick,n=e.pageSizeItemComponent;return i.a.createElement("div",{className:"UNX-pageSize__element"},i.a.createElement(ye,{items:t,ListItem:n,onClick:r,className:"UNX-pageSize__list"}))};Ft.propTypes={sizeOptions:s.a.arrayOf(s.a.shape({id:s.a.number,value:s.a.string})).isRequired,onPageSizeClick:s.a.func.isRequired,pageSizeItemComponent:s.a.element.isRequired};var jt=Ft,Rt=function(e){var t=e.size,r=e.sizeOptions,n=e.onPageSizeClick;return i.a.createElement("select",{name:"pageSize",id:"UNX-pageSize__dropdown",className:"UNX-pageSize__dropdown","data-testid":"UNX-pageSize__dropdown",value:t,onChange:n},r.map((function(e){return i.a.createElement("option",{value:e.id,key:e.id},e.value)})))};Rt.propTypes={size:s.a.number.isRequired,sizeOptions:s.a.arrayOf(s.a.shape({id:s.a.number,value:s.a.string})).isRequired,onPageSizeClick:s.a.func.isRequired};var xt=Rt,kt=function(e){var t=e.onPageSizeClick,r=e.displayType,n=e.noOfPages,a=e.size,o=e.sizeOptions,c=e.pageSizeItemComponent,s=e.label;return 0===n?null:i.a.createElement("div",{className:"UNX-pageSize__container"},s||null,r===R&&i.a.createElement(xt,{size:a,sizeOptions:o,onPageSizeClick:t}),r===j&&i.a.createElement(jt,{size:a,sizeOptions:o,onPageSizeClick:t,pageSizeItemComponent:c}))};kt.propTypes={size:s.a.number,sizeOptions:s.a.arrayOf(s.a.shape({id:s.a.number,value:s.a.string})).isRequired,onPageSizeClick:s.a.func.isRequired,noOfPages:s.a.number.isRequired,displayType:s.a.string,pageSizeItemComponent:s.a.element,label:s.a.node};var Nt=kt;function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Et=function(e,t){return e.map((function(e){return It(It({},e),{},{isSelected:e.id===t})}))};function Dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var At=function(e){ee()(r,e);var t=Ut(r);function r(e){var n;K()(this,r);var a=(n=t.call(this,e)).props,o=a.size,i=a.sizeOptions;return n.state={size:o,sizeOptions:i},n}return Z()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.size,r=e.helpers.setPageSizeConfiguration,n=e.unbxdCore,a=this.state.sizeOptions,o=n.getQueryParams().rows,i=Number(void 0!==o&&o||t);if(!isNaN(i)){var c=Et(a,i);this.setState({size:i||parseInt(t),sizeOptions:c}),r({size:i||parseInt(t)})}}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.unbxdCore,n=t.unbxdCoreStatus,a=t.pageSize,o=t.sizeOptions,i=r.getQueryParams().rows;if(n!==e.unbxdCoreStatus&&n===P&&"string"==typeof i&&a!==i&&e.pageSize===a){var c=parseInt(i),s=Et(o,c);this.setState({size:c,sizeOptions:s})}}},{key:"getPageSizeProps",value:function(){var e=this,t=this.props,r=t.unbxdCore,n=t.pageSizeItemComponent,a=t.displayType,o=t.label,i=t.helpers.setPageSizeConfiguration,c=this.state.sizeOptions,s=(r.getPaginationInfo()||{}).noOfPages,u=void 0===s?0:s,l=this.state.size;return{pageSizeItemComponent:n,sizeOptions:c,displayType:a,onPageSizeClick:function(t){var r=t.target?parseInt(t.target.value):t.id,n=c.map((function(e){return _t(_t({},e),{},{isSelected:e.id===r})}));e.setState({size:r,sizeOptions:n}),i({size:r},!0)},size:l,noOfPages:u,label:o}}},{key:"render",value:function(){var e=Nt;return X(this.props.children,this.getPageSizeProps(),e)}}]),r}(i.a.PureComponent);At.propTypes={unbxdCore:s.a.object.isRequired,helpers:s.a.object.isRequired,size:s.a.number,sizeOptions:s.a.arrayOf(s.a.shape({id:s.a.number,value:s.a.string})).isRequired,displayType:s.a.string,pageSizeItemComponent:s.a.element,label:s.a.node};var qt=At,Mt=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.unbxdState,s=r.helpers,u=c.pageSize;return i.a.createElement(qt,a()({unbxdCore:n,unbxdCoreStatus:o,helpers:s,pageSize:u},t))}))};Mt.displayName="PageSize",Mt.defaultProps={size:10,sizeOptions:[{id:5,value:"5"},{id:10,value:"10"},{id:15,value:"15"}],displayType:"DROPDOWN"},Mt.propTypes={size:s.a.number,sizeOptions:s.a.arrayOf(s.a.shape({id:s.a.number,value:s.a.string})),displayType:s.a.string,pageSizeItemComponent:s.a.element,label:s.a.node};var Lt=Mt,Bt=function(e,t,r,n,a,o){var c=e-t,s=c<0?0:c;return{prevPages:b()(Array(r).keys()).slice(s,e).map((function(e){return e>0?$(n)?G(n,{itemData:{pageNumber:e,type:o},onClick:a,key:e}):i.a.createElement(n,{className:"UNX-pageNavigation__button",onClick:a,"data-pagenumber":e,key:e,"data-testid":"UNX_pageNumber".concat(e)},e):null})),nextPages:b()(Array(r+1).keys()).slice(1).slice(e,e+t).map((function(e){return $(n)?G(n,{itemData:{pageNumber:e,type:o},onClick:a,key:e}):i.a.createElement(n,{className:"UNX-pageNavigation__button",onClick:a,"data-pagenumber":e,key:e,"data-testid":"UNX_pageNumber".concat(e)},e)}))}},Vt="NUMBER",Xt="PREVIOUS",zt="NEXT",Qt=function(e){var t=e.currentPage,r=e.isNext,n=e.isPrev,a=e.noOfPages,o=e.padding,c=e.onNextPageClick,s=e.onPreviousPageClick,u=e.onPageClick,l=e.paginationItemComponent;if(e.paginationType!==A)return null;if(0===a)return null;var p=l?G(l,{onClick:s,itemData:{pageNumber:t,type:Vt,isSelected:!0}}):i.a.createElement(ge,{className:"UNX-pageNavigation__button -selected","data-pagenumber":t,key:t,"data-testid":"UNX_pageNumber".concat(t)},t),f=Bt(t,o,a,l||ge,u,Vt),d=f.prevPages,y=f.nextPages;return i.a.createElement("div",{className:"UNX-pageNavigation__container"},n&&(l?G(l,{onClick:s,itemData:{pageNumber:t-1,type:Xt}}):i.a.createElement(ge,{"aria-label":"previous page button",className:"UNX-pageNavigation__button -action prev",onClick:s,"data-pagenumber":t-1,key:t-1,"data-testid":"UNX_pagination-prev"},"<")),d,p,y,r&&(l?G(l,{onClick:c,itemData:{pageNumber:t+1,type:zt}}):i.a.createElement(ge,{"aria-label":"next page button",className:"UNX-pageNavigation__button -action next",onClick:c,"data-pagenumber":t+1,key:t+1,"data-testid":"UNX_pagination-next"},">")))};Qt.propTypes={currentPage:s.a.number.isRequired,isNext:s.a.bool.isRequired,isPrev:s.a.bool.isRequired,noOfPages:s.a.number.isRequired,onNextPageClick:s.a.func.isRequired,onPreviousPageClick:s.a.func.isRequired,onPageClick:s.a.func.isRequired,padding:s.a.number,paginationItemComponent:s.a.element,paginationType:s.a.string.isRequired};var $t=Qt;function Gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var Kt=function(e){ee()(r,e);var t=Ht(r);function r(){return K()(this,r),t.apply(this,arguments)}return Z()(r,[{key:"componentDidMount",value:function(){var e=this.props.unbxdCore,t=e.getQueryParams(),r=e.setPageStart.bind(e);t.start?r(parseInt(t.start)):r(0)}},{key:"getPaginationProps",value:function(){var e=this.props,t=e.unbxdCore,r=e.paginationItemComponent,n=e.onPageChange,a=t.setPageStart.bind(t),o=t.getResults.bind(t),i=this.props,c=i.padding,s=i.paginationType,u=t.getPaginationInfo()||{},l=u.currentPage,p=void 0===l?0:l,f=u.isNext,d=void 0!==f&&f,y=u.isPrev,b=void 0!==y&&y,m=u.noOfPages,g=void 0===m?0:m,h=u.rows,v=void 0===h?0:h,O={onNextPageClick:function(){var e=v*p;z(n,[e],(function(){a(e),o()}))},onPreviousPageClick:function(){var e=(p-2)*v;z(n,[e],(function(){a(e),o()}))},onPageClick:function(e){var t=((e.target?parseInt(e.target.dataset.pagenumber):e.pageNumber)-1)*v;z(n,[t],(function(){a(t),o()}))},paginationItemComponent:r};return Yt(Yt({},{isNext:d,isPrev:b,noOfPages:g,currentPage:p,padding:c,paginationType:s}),O)}},{key:"render",value:function(){var e=$t;return X(this.props.children,this.getPaginationProps(),e)}}]),r}(i.a.PureComponent);Kt.propTypes={unbxdCore:s.a.object.isRequired,padding:s.a.number,paginationItemComponent:s.a.element,paginationType:s.a.string.isRequired,onPageChange:s.a.func,children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node])};var Wt=Kt,Zt=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.helpers,s=r.unbxdState.paginationType;return i.a.createElement(Wt,a()({unbxdCore:n,unbxdCoreStatus:o,helpers:c,paginationType:s},t))}))};Zt.displayName="Pagination",Zt.defaultProps={padding:2},Zt.propTypes={padding:s.a.number,paginationItemComponent:s.a.element,onPageChange:s.a.func};var Jt=Zt,er=function(e){var t=e.itemData,r=e.onClick,n=t.swatchImageUrl,a=t.isSelected;return i.a.createElement("div",{className:"UNX-swatch__item ".concat(a?"-selected":""),onClick:function(){r(t)}},i.a.createElement("img",{src:n,className:"-image"}))};er.propTypes={itemData:s.a.object.isRequired,onClick:s.a.func.isRequired};var tr=er;function rr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var or=function(e){ee()(r,e);var t=ar(r);function r(e){var n;K()(this,r),n=t.call(this,e),d()(ve()(n),"onSwatchClick",(function(e){n.setState((function(t){return{productValues:nr(nr({},t.productValues),{},{swatches:t.productValues.swatches.map((function(t){return t.uniqueId===e.uniqueId?nr(nr({},t),{},{isSelected:!0}):nr(nr({},t),{},{isSelected:!1})}))})}}))}));var a=n.props.itemData;return n.state={productValues:a},n}return Z()(r,[{key:"render",value:function(){var e=this.props,t=e.swatchItemComponent,r=e.itemData,n=e.onClick,a=e.priceUnit,o=e.variantAttributesMap,c=e.showSwatches,s=this.state.productValues,u=s.swatches,l=void 0===u?[]:u,p=s.variants,f=void 0===p?[]:p,d=l.find((function(e){return e.isSelected})),y={};c&&(y=f.find((function(e){return e[o.uniqueId]===d.uniqueId})));var b=nr(nr({},s),y),m=b.title,g=b.imageUrl,h=b.productUrl,v=b.price,O=b.sellingPrice;return i.a.createElement("div",{className:"UNX-productCard__container"},i.a.createElement("a",{href:h,className:"UNX-product-card UNX-grid-card",onClick:function(){n(r)}},i.a.createElement("img",{className:"-image",src:g,alt:m})),i.a.createElement("div",{className:"UNX-swatch__container"},l.length>1?i.a.createElement(ye,{items:l,ListItem:t||tr,idAttribute:"swatchId",onClick:this.onSwatchClick,className:"UNX-swatch__list"}):null),i.a.createElement("div",{className:"-details"},i.a.createElement("div",{className:"-title"},m),i.a.createElement("div",{className:"-price"},O&&i.a.createElement("span",null,a,O),v&&v!==O&&i.a.createElement("span",{className:"-strike"},a,v," "))))}}]),r}(i.a.Component);or.propTypes={itemData:s.a.object.isRequired};var ir=or;function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var lr=function(e){ee()(r,e);var t=ur(r);function r(e){var n;K()(this,r),n=t.call(this,e),d()(ve()(n),"onSwatchClick",(function(e){n.setState((function(t){return{productValues:sr(sr({},t.productValues),{},{swatches:t.productValues.swatches.map((function(t){return t.uniqueId===e.uniqueId?sr(sr({},t),{},{isSelected:!0}):sr(sr({},t),{},{isSelected:!1})}))})}}))}));var a=n.props.itemData;return n.state={productValues:a},n}return Z()(r,[{key:"render",value:function(){var e=this.props,t=e.swatchItemComponent,r=e.itemData,n=e.onClick,a=e.priceUnit,o=e.variantAttributesMap,c=e.showSwatches,s=this.state.productValues,u=s.swatches,l=void 0===u?[]:u,p=s.variants,f=void 0===p?[]:p,d=l.find((function(e){return e.isSelected})),y={};c&&(y=f.find((function(e){return e[o.uniqueId]===d.uniqueId})));var b=sr(sr({},s),y),m=b.title,g=b.imageUrl,h=b.productUrl,v=b.price,O=b.sellingPrice;return i.a.createElement("div",{className:"UNX-productCard__container"},i.a.createElement("a",{href:h,className:"UNX-product-card UNX-list-card",onClick:function(){n(r)}},i.a.createElement("img",{className:"-image",src:g,alt:m})),i.a.createElement("div",{className:"-details"},i.a.createElement("div",{className:"UNX-swatch__container"},l.length>1?i.a.createElement(ye,{items:l,ListItem:t||tr,idAttribute:"swatchId",onClick:this.onSwatchClick,className:"UNX-swatch__list"}):null),i.a.createElement("div",{className:"-title"},m),i.a.createElement("div",{className:"-price"},O&&i.a.createElement("span",null,a,O),v&&v!==O&&i.a.createElement("span",{className:"-strike"},a,v," "))))}}]),r}(i.a.Component);lr.propTypes={itemData:s.a.object.isRequired};var pr=lr,fr=function(e){var t=e.products,r=void 0===t?[]:t,n=e.perRow,a=e.attributesMap,o=e.showVariants,c=e.variantAttributesMap,s=e.onProductClick,u=e.productItemComponent,l=e.showSwatches,p=e.swatchAttributesMap,f=e.groupBy,d=e.swatchItemComponent,y=e.viewType,b=e.priceUnit;return i.a.createElement("div",{className:"UNX-products__container"},i.a.createElement(ye,{idAttribute:"uniqueId",items:r,ListItem:u||ir,viewType:y,onClick:s,attributesMap:a,showVariants:o,variantAttributesMap:c,showSwatches:l,swatchAttributesMap:p,groupBy:f,swatchItemComponent:d,className:"UNX-products__list -grid grid-cols-".concat(n),priceUnit:b}))};fr.propTypes={products:s.a.arrayOf(s.a.object).isRequired,perRow:s.a.number.isRequired,attributesMap:s.a.object.isRequired,showVariants:s.a.bool.isRequired,variantAttributesMap:s.a.object.isRequired,onProductClick:s.a.func.isRequired,productItemComponent:s.a.element,showSwatches:s.a.bool,swatchAttributesMap:s.a.object,groupBy:s.a.string,swatchItemComponent:s.a.element,viewType:s.a.string.isRequired,priceUnit:s.a.string.isRequired};var dr=fr,yr=function(e){var t=e.products,r=void 0===t?[]:t,n=e.attributesMap,a=e.showVariants,o=e.variantAttributesMap,c=e.onProductClick,s=e.productItemComponent,u=e.showSwatches,l=e.swatchAttributesMap,p=e.groupBy,f=e.swatchItemComponent,d=e.viewType,y=e.priceUnit;return i.a.createElement("div",{className:"UNX-products__container"},i.a.createElement(ye,{idAttribute:"uniqueId",items:r,ListItem:s||pr,viewType:d,onClick:c,attributesMap:n,showVariants:a,variantAttributesMap:o,showSwatches:u,swatchAttributesMap:l,groupBy:p,swatchItemComponent:f,className:"UNX-products__list -list grid-cols-1",priceUnit:y}))};yr.propTypes={products:s.a.arrayOf(s.a.object).isRequired,attributesMap:s.a.object.isRequired,showVariants:s.a.bool.isRequired,variantAttributesMap:s.a.object.isRequired,onProductClick:s.a.func.isRequired,productItemComponent:s.a.element,showSwatches:s.a.bool,swatchAttributesMap:s.a.object,groupBy:s.a.string,swatchItemComponent:s.a.element,viewType:s.a.string.isRequired,priceUnit:s.a.string.isRequired};var br=yr,mr=function(){return i.a.createElement("div",{className:"UNX-noProducts__container"},"Sorry! No products found!")};function gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var vr=function(e){var t=e.product,r=e.attributesMap,n=e.showVariants,a=e.variantAttributesMap,o=e.showSwatches,i=e.swatchAttributesMap,c=r.uniqueId||"uniqueId",s={},u=[],l=[];s.uniqueId=t[c];for(var p=0,f=Object.keys(r);p<f.length;p++){var d=f[p];if("variant"===t.relevantDocument&&n)if("imageUrl"===d){var y=t.variants[0][d];s[d]=Array.isArray(y)&&y.length?y[0]:y}else s[d]=t.variants[0][d];else if("imageUrl"===d){var b=t[r[d]];s[d]=Array.isArray(b)&&b.length?b[0]:b}else s[d]=t[r[d]]}if(s=hr(hr({},t),s),n){var m=a.uniqueId||"uniqueId";u=t.variants.map((function(e){var t={};t.uniqueId=e[m];for(var r=0,n=Object.keys(a);r<n.length;r++){var o=n[r];if("imageUrl"===o){var i=e[a[o]];t[o]=Array.isArray(i)&&i.length?i[0]:i}else t[o]=e[a[o]]}return hr(hr({},e),t)}))}return o&&(l=t.variants.map((function(e,t){var r={},n=a.uniqueId||"uniqueId";r.uniqueId=e[n],r.swatchImageUrl=e[i.swatchImageUrl];for(var o={},c=0,s=Object.keys(i);c<s.length;c++){var u=s[c];if("imageUrl"===u){var l=e[i[u]];o[u]=Array.isArray(l)&&l.length?l[0]:l}else o[u]=e[i[u]]}var p=hr(hr({},r),o);return 0===t&&(p.isSelected=!0),p}))),s.swatches=l,s.variants=u,s},Or=function(e,t){return e.map((function(e){return e[t]}))};function Cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var Pr=function(e){ee()(r,e);var t=wr(r);function r(e){var n,a,i,c,s;K()(this,r),n=t.call(this,e),d()(ve()(n),"nextPageCallback",(a=function(){var e=n.props,t=e.getNextPage,r=e.heightDiffToTriggerNextPage,a=n.productsContainerRef.current.clientHeight,o=document.documentElement.offsetHeight,i=window.innerHeight+document.documentElement.scrollTop;(o-i<r||i>a)&&t()},i=500,function(){var e=this,t=arguments,r=function(){s=null,c||a.apply(e,t)},n=c&&!s;clearTimeout(s),s=setTimeout(r,i),n&&a.apply(e,t)})),d()(ve()(n),"loadMoreProducts",(function(){(0,n.props.getNextPage)()}));var u=n.props,l=u.products,p=void 0===l?[]:l,f=u.attributesMap,y=u.showVariants,b=u.variantAttributesMap,m=u.showSwatches,g=u.swatchAttributesMap,h=u.groupBy,v=p.map((function(e,t){return Sr(Sr({},vr({product:e,attributesMap:f,showVariants:y,variantAttributesMap:b,showSwatches:m,swatchAttributesMap:g,groupBy:h})),{},{prank:t})}));return n.state={products:v,hasMoreResults:!0,start:0},n.productsContainerRef=Object(o.createRef)(),n}return Z()(r,[{key:"componentDidMount",value:function(){this.props.paginationType===_&&window.addEventListener("scroll",this.nextPageCallback)}},{key:"componentDidUpdate",value:function(e,t){var r=this.props,n=r.paginationType,a=r.products,o=void 0===a?[]:a,i=r.start,c=r.query,s=r.productIdAttribute,u=r.viewType,l=r.pageSize,p=r.sort,f=r.unbxdCoreStatus,d=r.numberOfProducts,y=r.attributesMap,m=r.showVariants,g=r.variantAttributesMap,h=r.showSwatches,v=r.swatchAttributesMap,O=r.groupBy,C=(0,r.getAnalytics)().trackProductImpressions,S=o.map((function(e,t){return Sr(Sr({},vr({product:e,attributesMap:y,showVariants:m,variantAttributesMap:g,showSwatches:h,swatchAttributesMap:v,groupBy:O})),{},{prank:t})})),w=0===i?o.length===d:[].concat(b()(t.products),b()(S)).length===d;if(e.unbxdCoreStatus===P&&"READY"===f){if(0===this.state.products.length&&o.length)return this.setState({products:S,start:i,hasMoreResults:!w}),void C(c,Or(o,s));if(0===o.length&&0!==i&&n===_&&window.removeEventListener("scroll",this.nextPageCallback),this.state.products.length>0&&0===o.length){if(n===_)return;if(n===U)return void this.setState({hasMoreResults:!1})}if(u!==e.viewType)return;if(!(e.start===i&&0!==i||n!==_&&n!==U))return C(c,Or(o,s)),w?window.removeEventListener("scroll",this.nextPageCallback):w||n!==_||(window.removeEventListener("scroll",this.nextPageCallback),window.addEventListener("scroll",this.nextPageCallback)),void(0===i?this.setState({products:S,start:i,hasMoreResults:!w}):this.setState({products:[].concat(b()(t.products),b()(S)),start:i,hasMoreResults:!w}));if(e.products!==o&&o.length>0)return C(c,Or(o,s)),void this.setState({products:S,start:i})}u===e.viewType&&l===e.pageSize&&p===e.sort||(n===_&&(window.removeEventListener("scroll",this.nextPageCallback),window.addEventListener("scroll",this.nextPageCallback)),n!==_&&n!==U||this.setState({hasMoreResults:!0}))}},{key:"componentWillUnmount",value:function(){this.props.paginationType===_&&window.removeEventListener("scroll",this.nextPageCallback)}},{key:"render",value:function(){var e=this.props,t=e.viewType,r=e.query,n=e.onProductClick,a=e.perRow,o=e.attributesMap,c=e.variantAttributesMap,s=e.paginationType,u=e.showVariants,l=e.productItemComponent,p=e.showSwatches,f=e.swatchAttributesMap,d=e.groupBy,y=e.swatchItemComponent,b=e.loadMoreComponent,m=e.unbxdCoreStatus,g=e.loaderComponent,h=e.showLoader,v=e.numberOfProducts,O=e.onZeroResults,C=e.zeroResultsComponent,S=e.priceUnit,F=this.state,j=F.products,R=F.hasMoreResults;if(0===v&&C&&m===w)return G(C,{query:r});if(0===v&&m===w)return void 0!==O&&O(r),i.a.createElement(mr,null);var k=s===U&&R&&m===w,N=m===P&&h,T={perRow:a,attributesMap:o,products:j,onProductClick:n,showVariants:u,variantAttributesMap:c,productItemComponent:l,showSwatches:p,swatchAttributesMap:f,groupBy:d,swatchItemComponent:y,viewType:t,priceUnit:S},I=i.a.createElement(i.a.Fragment,null,(t===x.GRID||""===t)&&i.a.createElement(dr,T),t===x.LIST&&i.a.createElement(br,T));return i.a.createElement("div",{ref:this.productsContainerRef},I,k&&(b?G(b,{loadMoreProducts:this.loadMoreProducts}):i.a.createElement("div",{className:"UNX-productLoadMore",onClick:this.loadMoreProducts,"data-testid":"UNX_loadMore"},"Load more")),N&&g)}}]),r}(i.a.PureComponent);Pr.propTypes={perRow:s.a.number,viewType:s.a.string.isRequired,products:s.a.arrayOf(s.a.object).isRequired,onProductClick:s.a.func.isRequired,getNextPage:s.a.func.isRequired,attributesMap:s.a.object.isRequired,variantAttributesMap:s.a.object.isRequired,paginationType:s.a.string,heightDiffToTriggerNextPage:s.a.number,showVariants:s.a.bool.isRequired,productItemComponent:s.a.element,showSwatches:s.a.bool,swatchAttributesMap:s.a.object,groupBy:s.a.string,swatchItemComponent:s.a.element,numberOfProducts:s.a.number.isRequired,start:s.a.number.isRequired,zeroResultsComponent:s.a.element,priceUnit:s.a.string.isRequired,loaderComponent:s.a.element};var Fr=Pr;function jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var kr=function(e){ee()(r,e);var t=xr(r);function r(){return K()(this,r),t.apply(this,arguments)}return Z()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pageSize,r=e.attributesMap,n=void 0===r?{}:r,a=e.showVariants,o=e.variantsCount,i=e.variantAttributesMap,c=void 0===i?{}:i,s=e.swatchAttributesMap,u=void 0===s?{}:s,l=e.paginationType,p=e.groupBy,f=e.helpers.setProductConfiguration,d=Object.values(n),y=[].concat(b()(Object.values(c)),b()(Object.values(u)));f({pageSize:t,requiredFields:d,showVariants:a,variantsCount:o,variantRequiredFields:b()(new Set(y)),paginationType:l,groupBy:p})}},{key:"getProductProps",value:function(){var e=this.props,t=e.unbxdCore,r=e.unbxdCoreStatus,n=e.helpers.getAnalytics,a=e.zeroResultsComponent,o=e.perRow,i=e.pageSize,c=e.paginationType,s=e.heightDiffToTriggerNextPage,u=e.loaderComponent,l=e.showLoader,p=e.onProductClick,f=e.loadMoreComponent,d=e.onZeroResults,y=e.productItemComponent,b=e.productIdAttribute,m=e.attributesMap,g=void 0===m?{}:m,h=e.showVariants,v=e.groupBy,O=e.variantAttributesMap,C=void 0===O?{}:O,S=e.showSwatches,w=e.swatchAttributesMap,P=void 0===w?{}:w,F=e.swatchItemComponent,j=e.viewType,R=e.sort,x=e.priceUnit,k=t.setPageStart.bind(t),N=t.getPaginationInfo.bind(t),T=t.getResults.bind(t),I=t.getProductByPropValue.bind(t),E=n().trackProductClick,D=t.getSearchQuery()||"",_=t.getSearchResults()||{},U=_.numberOfProducts,A=void 0===U?0:U,q=_.products,M=void 0===q?[]:q,L=_.start,B=function(e){var t=e[b];if(t){var r=e.prank,n=I(b,t);p?p(n)&&E(n[b],r):E(n[b],r)}},V={zeroResultsComponent:a,getOnProductsClickProps:function(e){var t=e.onClick;return Rr({onClick:function(){B(),t()}},se()(e,["onClick"]))},getNextPage:function(){var e=N().currentPage,r=t.getPaginationInfo(),n=r&&r.rows||i;k(0===e?n:e*n),T()},onProductClick:B,loaderComponent:u,onZeroResults:d,productItemComponent:y,swatchItemComponent:F,loadMoreComponent:f,getAnalytics:n};return Rr(Rr({},{unbxdCoreStatus:r,perRow:o,paginationType:c,attributesMap:g,variantAttributesMap:C,heightDiffToTriggerNextPage:s,showVariants:h,showLoader:l,showSwatches:S,swatchAttributesMap:P,groupBy:v,query:D,productIdAttribute:b,viewType:j,pageSize:i,sort:R,numberOfProducts:A,products:M,start:void 0===L?0:L,priceUnit:x}),V)}},{key:"render",value:function(){var e=Fr;return X(this.props.children,this.getProductProps(),e,null)}}]),r}(i.a.PureComponent);kr.propTypes={unbxdCore:s.a.object.isRequired,unbxdCoreStatus:s.a.string.isRequired,helpers:s.a.object.isRequired,viewType:s.a.string,perRow:s.a.number,pageSize:s.a.number,paginationType:s.a.string,heightDiffToTriggerNextPage:s.a.number,loadMoreComponent:s.a.element,productIdAttribute:s.a.string,attributesMap:s.a.object.isRequired,showVariants:s.a.bool,variantsCount:s.a.number,variantAttributesMap:s.a.object,showLoader:s.a.bool,loaderComponent:s.a.element,onProductClick:s.a.func,onZeroResults:s.a.func,showSwatches:s.a.bool,groupBy:s.a.string,swatchAttributesMap:s.a.object,swatchItemComponent:s.a.element,productItemComponent:s.a.element,zeroResultsComponent:s.a.element,priceUnit:s.a.string.isRequired};var Nr=kr,Tr=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.helpers,s=r.unbxdState,u=r.priceUnit,l=s.viewType,p=s.pageSize,f=s.sort;return i.a.createElement(Nr,a()({unbxdCore:n,unbxdCoreStatus:o,helpers:c,viewType:l,pageSize:p,sort:f,priceUnit:u},t))}))};Tr.displayName="Products",Tr.defaultProps={perRow:4,pageSize:10,variantsCount:5,paginationType:"FIXED_PAGINATION",heightDiffToTriggerNextPage:300,showVariants:!1,showLoader:!1,productIdAttribute:"uniqueId",groupBy:"",variantAttributesMap:{}},Tr.propTypes={perRow:s.a.number,paginationType:s.a.string,heightDiffToTriggerNextPage:s.a.number,loadMoreComponent:s.a.element,productIdAttribute:s.a.string,attributesMap:s.a.object.isRequired,showVariants:s.a.bool,variantsCount:s.a.number,variantAttributesMap:s.a.object,showLoader:s.a.bool,loaderComponent:s.a.element,onProductClick:s.a.func,onZeroResults:s.a.func,showSwatches:s.a.bool,groupBy:s.a.string,swatchAttributesMap:s.a.object,swatchItemComponent:s.a.element,productItemComponent:s.a.element,zeroResultsComponent:s.a.element};var Ir=Tr,Er=function(e){var t=e.itemData,r=e.onClick,n=e.priceUnit,a=t.from,o=t.end,c=t.isSelected,s=void 0!==c&&c,u=t.facetName,l=a.name,p=a.count,f=a.dataId,d=o.name,y=o.dataId;return i.a.createElement("div",{key:"".concat(u,"_").concat(f,"-").concat(y),onClick:function(){r(t)},className:"UNX-facet__item ".concat(s?"-selected":""),"data-testid":"UNX_rangeFacet__facetItem","data-facet-name":u,"data-id":"[".concat(f,"-").concat(y,"]"),tabIndex:0,role:"button"},n," ",l," - ",n," ",d," - ",p)};Er.propTypes={itemData:s.a.object.isRequired,onClick:s.a.func.isRequired,priceUnit:s.a.string.isRequired};var Dr=Er;function _r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var qr=function(e){ee()(r,e);var t=Ar(r);function r(e){var n;K()(this,r),n=t.call(this,e),d()(ve()(n),"handleCollapseToggle",(function(e){var t=e.target.dataset.unx_name;n.setState((function(e){var r=e.rangeFacetsList.map((function(e){return e.facetName===t?Ur(Ur({},e),{},{isOpen:!e.isOpen}):Ur({},e)}));return Ur(Ur({},e),{},{rangeFacetsList:r})}))}));var a=n.props.rangeFacets;return n.state={rangeFacetsList:a},n.toggleViewLess=st.bind(ve()(n),"rangeFacetsList"),n.handleCollapseToggle=ut.bind(ve()(n),"rangeFacetsList"),n}return Z()(r,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.rangeFacets,n=t.transform;e.rangeFacets!==r&&this.setState((function(e){var t=e.rangeFacetsList,a=r.map((function(e){var r=t.find((function(t){return t.facetName===e.facetName}));return Ur(Ur({},e),{},{isOpen:!r||r.isOpen,viewLess:!!r&&r.viewLess})}));return n&&"function"==typeof n?{rangeFacetsList:n.call(a)}:{rangeFacetsList:a}}))}},{key:"render",value:function(){var e=this,t=this.state.rangeFacetsList,r=this.props,n=r.facetItemComponent,a=r.onFacetClick,o=r.onFacetClear,c=r.priceUnit,s=r.label,u=r.collapsible,l=r.enableViewMore,p=r.minViewMore;return 0===t.length?null:i.a.createElement("div",{className:"UNX-rangefacet__container"},s||null,t.map((function(t){var r=t.facetName,s=t.values,f=t.displayName,d=t.isSelected,y=t.isOpen,b=void 0===y||y,m=t.viewLess;return i.a.createElement("div",{className:"UNX-facet__element ".concat(b?"open":""),key:r},i.a.createElement("div",{className:"UNX-facet__headerContainer"},i.a.createElement("div",{className:"UNX-facet__header"},f,u&&i.a.createElement("span",{className:"-collapse-icon","data-unx_name":r,onClick:e.handleCollapseToggle,tabIndex:0,role:"button","aria-label":"".concat(b?"collapse":"open"," facets")}))),i.a.createElement(ye,{items:s,ListItem:n||Dr,idAttribute:"dataId",onClick:a,className:"UNX-facet__list ".concat(m?"UNX-facet__listShowLimited":""),priceUnit:c}),d&&i.a.createElement("div",{onClick:o,"data-unx_facetname":r,className:"-clear"},"Clear"),l&&b&&s.length>p?i.a.createElement(we,{facetName:r,toggleViewLess:e.toggleViewLess,viewLess:m}):null)})))}}]),r}(i.a.Component);qr.propTypes={rangeFacets:s.a.array,enableApplyFilters:s.a.bool.isRequired,addRangeFacet:s.a.func.isRequired,applyRangeFacet:s.a.func.isRequired,removeRangeFacet:s.a.func.isRequired,facetItemComponent:s.a.element,priceUnit:s.a.string.isRequired,label:s.a.node,collapsible:s.a.bool,applyMultiple:s.a.bool,transform:s.a.func};var Mr=qr,Lr=r(13),Br=r.n(Lr);function Vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var zr=function(e){var t={};return Object.keys(e).map((function(r){e[r].map((function(e){var n=e.replace("[","").replace("]","").split(" TO "),a=Br()(n,2),o=a[0],i=a[1];t[r]||(t[r]=[]),t[r].push({facetName:r,valMin:parseInt(o),valMax:parseInt(i),dataId:"".concat(r,"_").concat(o,"_").concat(i)})}))})),t},Qr=function(e,t){return e.map((function(e){var r=e.facetName;if(t[r]&&t[r].length){var n=e.start,a=e.end,o=t[r][0]||{},i=o.valMin,c=void 0===i?n:i,s=o.valMax,u=void 0===s?a:s,l=Xr(Xr({},e),{},{facetType:M,sliderMax:a,sliderMin:n,valMin:parseInt(c),valMax:parseInt(u),isSelected:!0,viewLess:!1,dataId:"".concat(r,"_").concat(c,"_").concat(u)}),p=t[r],f=l.values.map((function(e){var t=e.from,n=e.end,a=t.dataId,o=n.dataId,i="".concat(r,"_").concat(a,"_").concat(o),c=p.find((function(e){var t=e.valMin,r=e.valMax,n=parseInt(t),i=parseInt(r);return n>=a&&i<=o}));return c?(l.valMin=c.valMin,l.valMax=c.valMax,Xr(Xr(Xr({},c),e),{},{facetName:r,isSelected:!0,dataId:i})):Xr(Xr({},e),{},{facetName:r,dataId:i})}));return l.values=f,l}var d=e.start,y=e.end,b=Xr(Xr({},e),{},{isOpen:!0,facetType:M,sliderMin:d,sliderMax:y,valMin:d,valMax:y,viewLess:!1,dataId:"".concat(r,"_").concat(d,"_").concat(y)}),m=b.values.map((function(e){var t=e.from,n=e.end,a=t.dataId,o=n.dataId,i="".concat(r,"_").concat(a,"_").concat(o);return Xr(Xr({},e),{},{facetName:r,dataId:i})}));return b.values=m,b}))},$r=function(e){return{getRangeFacets:e.getRanges.bind(e),setRangeFacet:e.setRangeFacet.bind(e),applyRangeFacet:e.applyRangeFacet.bind(e),clearARangeFacet:e.clearARangeFacet.bind(e),lastSelectedRangeFacets:e.state.rangeFacet,setPageStart:e.setPageStart.bind(e),getResults:e.getResults.bind(e)}};function Gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var Yr=function(e){ee()(r,e);var t=Gr(r);function r(){return K()(this,r),t.apply(this,arguments)}return Z()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.helpers,r=e.applyMultiple;(0,t.setRangeFacetsConfiguration)({applyMultiple:r})}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.unbxdCore,n=t.unbxdCoreStatus,a=t.helpers.manageRangeFacets,o=$r(r).lastSelectedRangeFacets,i=zr(o);n!==e.unbxdCoreStatus&&"READY"===n&&Object.keys(i).length&&a(null,null,null,D)}},{key:"getRangeFacetsProps",value:function(){var e=this.props,t=e.unbxdCore,r=e.facetItemComponent,n=e.enableApplyFilters,a=e.selectedRangeFacets,o=e.priceUnit,i=e.label,c=e.collapsible,s=e.onFacetClick,u=e.helpers,l=e.transform,p=e.enableViewMore,f=e.minViewMore,d=e.applyMultiple,y=$r(t),b=y.getRangeFacets,m=y.setRangeFacet,g=y.applyRangeFacet,h=y.clearARangeFacet,v=y.lastSelectedRangeFacets,O=y.setPageStart,C=y.getResults,S=u.manageRangeFacets,w=b(),P=zr(v),F=Qr(w,Y(a,P,d)),j=function(e){var t=e.facetName,r=e.start,n=e.end,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];m({facetName:t,start:r,end:n,applyMultiple:d}),a&&g()},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];h(e),t&&g()};return{rangeFacets:F,selectedRangeFacets:a,lastSelectedRangeFacets:P,onFacetClick:function(e){var t=e.from,r=e.end,a=e.facetName,o=e.dataId,i=e.isSelected,c=void 0!==i&&i,u=t.dataId,l=r.dataId,p={facetName:a,valMin:u,valMax:l,isSelected:c,dataId:o},f=c?N:k;z(s,[p,f],(function(){n&&S(p,a,o,f),!c&&!n&&j({facetName:a,start:u,end:l,applyMultiple:d},!0),c&&d&&!n&&j({facetName:a,start:u,end:l,applyMultiple:d},!0),c&&!d&&!n&&R(a,!0)}))},onFacetClear:function(e){var t=e.target.dataset.unx_facetname,r=I;z(s,[{facetName:t},r],(function(){n&&S(null,t,null,r),R(t),O(0),C()}))},manageRangeFacets:S,addRangeFacet:j,applyRangeFacet:g,removeRangeFacet:R,facetItemComponent:r,enableApplyFilters:n,priceUnit:o,label:i,collapsible:c,transform:l,enableViewMore:p,minViewMore:f,unbxdCore:t,applyMultiple:d}}},{key:"render",value:function(){var e=Mr;return X(this.props.children,this.getRangeFacetsProps(),e)}}]),r}(i.a.PureComponent);Yr.propTypes={unbxdCore:s.a.object.isRequired,helpers:s.a.object.isRequired,facetItemComponent:s.a.element,enableApplyFilters:s.a.bool.isRequired,priceUnit:s.a.string.isRequired,label:s.a.node,collapsible:s.a.bool,applyMultiple:s.a.bool,onFacetClick:s.a.func,transform:s.a.func};var Hr=Yr,Kr=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.helpers,s=r.unbxdState,u=r.priceUnit,l=s.enableApplyFilters,p=s.selectedRangeFacets;return i.a.createElement(Hr,a()({unbxdCore:n,unbxdCoreStatus:o,helpers:c,enableApplyFilters:l,selectedRangeFacets:p,priceUnit:u},t))}))};Kr.displayName="RangeFacets",Kr.defaultProps={collapsible:!0,minViewMore:3,enableViewMore:!1,applyMultiple:!1},Kr.propTypes={collapsible:s.a.bool,enableViewMore:s.a.bool,minViewMore:s.a.number,applyMultiple:s.a.bool,facetItemComponent:s.a.element,label:s.a.node,onFacetClick:s.a.func,transform:s.a.func};var Wr=Kr;function Zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var Jr=function(e){ee()(r,e);var t=Zr(r);function r(){return K()(this,r),t.apply(this,arguments)}return Z()(r,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.query,n=t.lastSearchedQuery,a=t.productType,o=t.setSearchBoxQuery;e.lastSearchedQuery!==n&&r!==n&&o(a===h?"":r||n)}},{key:"render",value:function(){var e=this.props,t=e.query,r=e.placeholder,n=e.onSearchBoxChange,a=e.autoFocus,o=e.clearable,c=e.onSearchBoxClear,s=e.clearComponent;return i.a.createElement(Se,{value:t,onChange:n,className:"UNX-searchbox__input","data-testid":"UNX-searchbox__input",autoFocus:a,clearable:o,onClear:c,clearComponent:s,placeholder:r,"aria-label":"searchBox input"})}}]),r}(i.a.Component);Jr.propTypes={query:s.a.string.isRequired,lastSearchedQuery:s.a.string.isRequired,placeholder:s.a.string,productType:s.a.string.isRequired,onSearchBoxChange:s.a.func.isRequired,setSearchBoxQuery:s.a.func.isRequired,autoFocus:s.a.bool,clearable:s.a.bool,onSearchBoxClear:s.a.func.isRequired,clearComponent:s.a.element};var en=Jr;function tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var rn=function(e){var t=e.query,r=e.lastSearchedQuery,n=e.placeholder,a=e.autoFocus,o=e.clearable,c=e.productType,s=e.onSearchBoxChange,u=e.onSearchBoxClear,l=e.setSearchBoxQuery,p=e.inputComponent,f={query:t,lastSearchedQuery:r,placeholder:n,autoFocus:a,clearable:o,productType:c,inputComponent:p,onSearchBoxChange:s,onSearchBoxClear:u,setSearchBoxQuery:l,clearComponent:e.clearComponent,className:"UNX-searchbox__input"};return p?G(p,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},f)):i.a.createElement(en,f)};rn.propTypes={query:s.a.string.isRequired,lastSearchedQuery:s.a.string.isRequired,placeholder:s.a.string,onSearchBoxChange:s.a.func.isRequired,onSearchBoxClear:s.a.func.isRequired,setSearchBoxQuery:s.a.func.isRequired,autoFocus:s.a.bool,clearable:s.a.bool,onSubmit:s.a.func,onClear:s.a.func,showLoader:s.a.bool,inputComponent:s.a.element,submitComponent:s.a.element,clearComponent:s.a.element,defaultSearch:s.a.string,productType:s.a.string};var nn=rn,an=function(e){var t=e.submitComponent,r=e.onSearchBoxSubmit;return t?G(t,{onSearchBoxSubmit:r}):i.a.createElement(ge,{type:"submit",className:"UNX-searchbox__button","aria-label":"search"},"Search")};an.propTypes={submitComponent:s.a.element,onSearchBoxSubmit:s.a.func.isRequired};var on=an,cn=function(e){var t=e.autoFocus,r=e.clearable,n=e.query,a=e.lastSearchedQuery,o=e.placeholder,c=e.productType,s=e.onSearchBoxChange,u=e.onSearchBoxSubmit,l=e.onSearchBoxClear,p=e.setSearchBoxQuery,f=e.inputComponent,d=e.submitComponent,y=e.clearComponent;return i.a.createElement("div",{className:"UNX-searchbox__container"},i.a.createElement("form",{onSubmit:u},i.a.createElement(nn,{query:n,lastSearchedQuery:a,placeholder:o,autoFocus:t,clearable:r,productType:c,onSearchBoxChange:s,onSearchBoxClear:l,setSearchBoxQuery:p,inputComponent:f,clearComponent:y}),i.a.createElement(on,{onSearchBoxSubmit:u,submitComponent:d})))};cn.propTypes={autoFocus:s.a.bool,clearable:s.a.bool,onSubmit:s.a.func,onClear:s.a.func,showLoader:s.a.bool,inputComponent:s.a.element,submitComponent:s.a.element,clearComponent:s.a.element,defaultSearch:s.a.string,productType:s.a.string,query:s.a.string.isRequired,lastSearchedQuery:s.a.string.isRequired,placeholder:s.a.string,onSearchBoxChange:s.a.func.isRequired,onSearchBoxClear:s.a.func.isRequired,setSearchBoxQuery:s.a.func.isRequired,onSearchBoxSubmit:s.a.func.isRequired};var sn=cn;function un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?un(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):un(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var fn=function(e){ee()(r,e);var t=pn(r);function r(e){var n;return K()(this,r),(n=t.call(this,e)).onSearchBoxChange=n.onSearchBoxChange.bind(ve()(n)),n.onSearchBoxClear=n.onSearchBoxClear.bind(ve()(n)),n.onSearchBoxSubmit=n.onSearchBoxSubmit.bind(ve()(n)),n.setSearchBoxQuery=n.setSearchBoxQuery.bind(ve()(n)),n.state={query:""},n}return Z()(r,[{key:"componentDidMount",value:function(){var e=this.props.helpers.setSearchBoxConfiguration,t=this.props.defaultSearch,r=void 0===t?"":t;"string"==typeof r&&r.length&&e({query:r})}},{key:"onSearchBoxChange",value:function(e){var t=e.target.value;this.setState({query:t})}},{key:"setSearchBoxQuery",value:function(e){this.setState({query:e})}},{key:"onSearchBoxClear",value:function(){var e=this.state.query,t=this.props.onClear;t?t(e)&&this.setState({query:""}):this.setState({query:""})}},{key:"onSearchBoxSubmit",value:function(e){e.preventDefault();var t=(0,this.props.helpers.getAnalytics)().trackSearch,r=this.state.query,n=this.props,a=n.onSubmit,o=n.helpers.resetSearch,i=this.props.helpers,c=i.setSearchBoxConfiguration,s=i.manageTextFacets,u=i.manageRangeFacets;if(!r.replace(/\s/g,"").length)return!1;var l=encodeURIComponent(r);a?a(r)&&r.length&&(o(),c({query:l}),t(r)):r.length&&(o(),c({query:l}),t(r)),s(null,null,null,T),u(null,null,null,T)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.unbxdCore,n=t.unbxdCoreStatus,a=t.query,o=t.productType,i=t.defaultSearch,c=r.getQueryParams().q;if(n!==e.unbxdCoreStatus&&n===P&&"string"==typeof c&&c.length>0&&e.query===a&&o===g&&this.setState({query:c}),i!==c&&"string"==typeof i&&n!==P&&i.length>0&&void 0===c){var s=this.props.helpers.setSearchBoxConfiguration;this.setState({query:i}),s({query:i})}}},{key:"getSearchBoxProps",value:function(){var e=this.props,t=e.unbxdCore,r=e.unbxdCoreStatus,n=e.productType,a=e.autoFocus,o=e.clearable,i=e.showLoader,c=e.inputComponent,s=e.submitComponent,u=e.clearComponent,l=e.placeholder,p=ln({unbxdCoreStatus:r,autoFocus:a,clearable:o,showLoader:i,lastSearchedQuery:t.getSearchQuery()||"",placeholder:l,productType:n},this.state),f={onSearchBoxChange:this.onSearchBoxChange,onSearchBoxSubmit:this.onSearchBoxSubmit,onSearchBoxClear:this.onSearchBoxClear,setSearchBoxQuery:this.setSearchBoxQuery,inputComponent:c,submitComponent:s,clearComponent:u};return ln(ln({},p),f)}},{key:"render",value:function(){var e=sn;return X(this.props.children,this.getSearchBoxProps(),e)}}]),r}(i.a.PureComponent);fn.propTypes={unbxdCore:s.a.object.isRequired,unbxdCoreStatus:s.a.string.isRequired,helpers:s.a.object.isRequired,autoFocus:s.a.bool,clearable:s.a.bool,onSubmit:s.a.func,onClear:s.a.func,showLoader:s.a.bool,inputComponent:s.a.element,submitComponent:s.a.element,clearComponent:s.a.element,defaultSearch:s.a.string,placeholder:s.a.string,productType:s.a.string};var dn=fn,yn=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.helpers,s=r.productType,u=r.unbxdState.query;return i.a.createElement(dn,a()({unbxdCore:n,unbxdCoreStatus:o,helpers:c,productType:s,query:u},t))}))};yn.displayName="SearchBox",yn.defaultProps={autoFocus:!1,clearable:!1,showLoader:!1},yn.propTypes={autoFocus:s.a.bool,clearable:s.a.bool,onSubmit:s.a.func,onClear:s.a.func,showLoader:s.a.bool,inputComponent:s.a.element,submitComponent:s.a.element,clearComponent:s.a.element,defaultSearch:s.a.string,placeholder:s.a.string};var bn=yn;function mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var gn=function(e){var t=e.searchQuery,r=e.start,n=e.productsLn,a=e.searchTitleItem,o=e.numberOfProducts,c=e.productType,s=e.paginationType,u=e.formatter;if(0===t.length&&0===o)return null;var l=t;z(u,[t,c],(function(e){e&&(l=e)}));var p=s===A?r+1:1;return a?G(a,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)):i.a.createElement("div",{className:"UNX-searchTitle__container"},"Showing results for",i.a.createElement("span",{className:"-query"}," ",l),0!==o&&i.a.createElement("span",{className:"-pageDescription"},"- ",p," to ",r+n," of"," ",o," products"))};gn.propTypes={searchQuery:s.a.string.isRequired,start:s.a.number,productsLn:s.a.number,numberOfProducts:s.a.number.isRequired,searchTitleItem:s.a.element,productType:s.a.string.isRequired,paginationType:s.a.string.isRequired,formatter:s.a.func};var hn=gn,vn=Object(o.memo)((function(e){var t=e.unbxdCore,r=e.searchTitleItem,n=e.paginationType,a=e.productType,o=e.formatter,i=t.getSearchQuery()||"",c=t.getPaginationInfo()||{},s=c.start,u=c.productsLn,l=c.numberOfProducts,p=void 0===l?0:l,f=hn;return X(e.children,{searchQuery:i,start:s,productsLn:u,searchTitleItem:r,numberOfProducts:p,productType:a,paginationType:n,formatter:o},f)}));vn.propTypes={unbxdCore:s.a.object.isRequired,searchTitleItem:s.a.element,productType:s.a.string.isRequired,paginationType:s.a.string.isRequired,formatter:s.a.func};var On=vn,Cn=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.helpers,s=r.unbxdState,u=r.productType,l=s.paginationType;return i.a.createElement(On,a()({unbxdCore:n,unbxdCoreStatus:o,helpers:c,productType:u,paginationType:l},t))}))};Cn.displayName="SearchTitle",Cn.propTypes={searchTitleItem:s.a.element,formatter:s.a.func};var Sn=Cn,wn=function(e){return{deleteAFacet:e.deleteAFacet.bind(e),getSelectedFacets:e.getSelectedFacets.bind(e),getFacets:e.getFacets.bind(e),applyRangeFacet:e.applyRangeFacet.bind(e),setRangeFacet:e.setRangeFacet.bind(e),clearARangeFacet:e.clearARangeFacet.bind(e),selectedRangeFacets:e.state.rangeFacet}},Pn=function(e){var t=e.itemData,r=e.onClick,n=e.priceUnit,a=t.name,o=t.type,c=t.dataId,s=t.facetName,u=null,l=c;if(o===q&&(u=i.a.createElement("span",null,a)),o===M){var p=c.split(" TO "),f=Br()(p,2),d=f[0],y=f[1];l="[".concat(d,"-").concat(y,"]"),u=i.a.createElement("span",null,n," ",d," - ",n," ",y)}return i.a.createElement("div",{className:"UNX-selectedFacets__item",onClick:function(){r(t)},"data-facet-name":s,"data-id":l,tabIndex:0,role:"button"},u," x")};Pn.propTypes={itemData:s.a.object,onClick:s.a.func.isRequired,priceUnit:s.a.string};var Fn=Pn,jn=function(e){var t=e.activeFacets,r=e.onTextFacetClick,n=e.onRangeFacetClick,a=e.facetItemComponent,o=e.priceUnit,c=e.label,s=t.textFacets,u=t.rangeFacets,l=null,p=null;return s.length&&(l=i.a.createElement(ye,{items:s,ListItem:a||Fn,idAttribute:"dataId",onClick:r,className:"UNX-selectedTextFacets__list"})),Object.keys(u).length&&(p=i.a.createElement(ye,{items:u,ListItem:a||Fn,idAttribute:"facetName",onClick:n,className:"UNX-selectedRangeFacets__list",priceUnit:o})),l===p&&null===l?null:i.a.createElement("div",{className:"UNX-selectedFacets__container"},c||null,i.a.createElement("div",{className:"UNX-selectedFacets__list"},l,p))};jn.propTypes={activeFacets:s.a.object,onTextFacetClick:s.a.func.isRequired,onRangeFacetClick:s.a.func.isRequired,facetItemComponent:s.a.element,priceUnit:s.a.string.isRequired,label:s.a.node};var Rn=jn;function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var Tn=function(e){ee()(r,e);var t=Nn(r);function r(){var e;K()(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),d()(ve()(e),"getSelectedFacetsProps",(function(){var t=e.props,r=t.unbxdCore,n=t.facetItemComponent,a=t.priceUnit,o=t.label,i=t.getUpdatedResults,c=t.helpers,s=t.applyMultiple,u=wn(r),l=u.getSelectedFacets,p=u.selectedRangeFacets,f=u.getFacets,d=u.deleteAFacet,y=u.clearARangeFacet,b=u.setRangeFacet,m=u.applyRangeFacet,g=f(),h=l(),v=c.manageTextFacets,O=c.manageRangeFacets,C={textFacets:[]};return g.map((function(e){var t=e.facetName,r=e.values;h[t]&&h[t].map((function(e){return r.find((function(r){if(r.dataId===e.dataId)return C.textFacets.push(kn(kn({},e),{},{facetName:t,type:q})),!0}))}))})),C.rangeFacets=[],Object.keys(p).map((function(e){p[e].map((function(t){var r=t.replace(/[\[\]']/g,"");C.rangeFacets.push({facetName:e,dataId:r,type:M})}))})),{activeFacets:C,onTextFacetClick:function(e){var t=e.facetName,r=e.dataId;!function(e,t){d(e,t),i()}(t,r),v(e,t,r,N)},onRangeFacetClick:function(e){var t=e.facetName,r=e.dataId,n="string"==typeof r?r.split(" TO "):"",a=Br()(n,2),o=a[0],i=a[1],c=parseInt(o),u=parseInt(i);s?b({facetName:t,start:c,end:u,applyMultiple:s}):y(t),O(e,t,r,N),m()},manageTextFacets:v,manageRangeFacets:O,facetItemComponent:n,priceUnit:a,label:o}})),e}return Z()(r,[{key:"render",value:function(){var e=Rn;return X(this.props.children,this.getSelectedFacetsProps(),e)}}]),r}(i.a.PureComponent);Tn.propTypes={unbxdCore:s.a.object.isRequired,facetItemComponent:s.a.element,priceUnit:s.a.string.isRequired,label:s.a.node,getUpdatedResults:s.a.func.isRequired,productType:s.a.string.isRequired};var In=Tn,En=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.unbxdState,s=r.priceUnit,u=r.helpers.getUpdatedResults,l=r.productType,p=r.helpers,f=c.applyMultiple;return i.a.createElement(In,a()({unbxdCore:n,unbxdCoreStatus:o,helpers:p,priceUnit:s,getUpdatedResults:u,applyMultiple:f,productType:l},t))}))};En.displayName="SelectedFacets",En.propTypes={facetItemComponent:s.a.element,label:s.a.node};var Dn=En;function _n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var An=function(e,t,r){var n=void 0!==t&&"".concat(e.field,"|").concat(e.order)===t.value;return n=0===r&&""===t.value||n,Un(Un({},e),{},{value:"".concat(e.field,"|").concat(e.order),isSelected:n})},qn=function(e,t){return t.find((function(t){return t.value===e}))},Mn=function(e){var t=e.sortBy,r=e.sortByOptions,n=e.onSortClick;return i.a.createElement("select",{name:"sortby",id:"UNX-sortby__dropdown",className:"UNX-sortby__dropdown",value:t.value,onChange:n,"data-testid":"UNX_unbxdSorter"},r.map((function(e){return i.a.createElement("option",{value:e.value,"data-testid":e.value.split("|").join(" "),key:e.value,className:"UNX-dropdown__option"},e.label)})))};Mn.propTypes={sortBy:s.a.shape({label:s.a.string,field:s.a.string,order:s.a.string,value:s.a.string}),sortByOptions:s.a.arrayOf(s.a.shape({label:s.a.string,field:s.a.string,order:s.a.string})).isRequired,onSortClick:s.a.func.isRequired};var Ln=Mn,Bn=function(e){var t=e.sortByOptions,r=e.onSortClick,n=e.sortItemComponent;return i.a.createElement(ye,{idAttribute:"value",items:t,ListItem:n,onClick:r,className:"UNX-sortby__list",testId:"UNX_unbxdSorter"})};Bn.propTypes={sortByOptions:s.a.arrayOf(s.a.shape({label:s.a.string,field:s.a.string,order:s.a.string})).isRequired,onSortClick:s.a.func.isRequired,sortItemComponent:s.a.element.isRequired};var Vn=Bn,Xn=function(e){var t=e.sortOptions,r=e.displayType,n=e.sortBy,a=e.noOfPages,o=e.onSortClick,c=e.sortItemComponent,s=e.label;return Array.isArray(t)&&t.length?0===a?null:i.a.createElement("div",{className:"UNX-sortby__container"},s||null,r===R&&i.a.createElement(Ln,{sortBy:n,sortByOptions:t,onSortClick:o}),r===j&&i.a.createElement(Vn,{sortByOptions:t,onSortClick:o,sortItemComponent:c})):null};Xn.propTypes={sortBy:s.a.object,noOfPages:s.a.number.isRequired,onSortClick:s.a.func.isRequired,sortOptions:s.a.arrayOf(s.a.shape({label:s.a.string,field:s.a.string,order:s.a.string})).isRequired,displayType:s.a.string,sortItemComponent:s.a.element,label:s.a.node};var zn=Xn;function Qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var Yn=function(e){ee()(r,e);var t=Gn(r);function r(e){var n;K()(this,r);var a=(n=t.call(this,e)).props.unbxdCore;if(null!==a.state.responseObj){var o=a.state.selectedSort.split(" "),i=Br()(o,2),c=i[0],s=i[1],u=An({field:c,order:s});n.state={sortBy:u}}else n.state={sortBy:{value:""}};return n}return Z()(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.helpers.setSortConfiguration,n=t.unbxdCore,a=t.sortOptions,o=null,i=n.getQueryParams().sort,c=void 0===i?"":i,s=c?decodeURI(c):"";if("string"==typeof s&&s.length){var u=s.split(" "),l=Br()(u,2),p=l[0],f=l[1];o={field:p,order:f};var d="".concat(p,"|").concat(f),y=a.map((function(t){return An(t,e.state.sortBy)})),b=qn(d,y);p.length&&f.length&&this.setState({sortBy:b})}else o="";if(null===n.state.responseObj){var m=o,g=m.field,h=void 0===g?"":g,v=m.order,O=void 0===v?"":v;h.length&&O.length&&r({sortBy:"".concat(o.field," ").concat(o.order)})}}},{key:"componentDidUpdate",value:function(e){var t=this,r=this.props,n=r.unbxdCore,a=r.unbxdCoreStatus,o=r.sort,i=r.sortOptions,c=r.helpers.setSortConfiguration,s=n.getQueryParams().sort,u=s?decodeURI(s):"";if(a!==e.unbxdCoreStatus&&a===P&&o!==u&&e.sort===o)if(void 0===u)this.setState({sortBy:{value:""}}),c({sortBy:""});else{var l=u.split(" "),p=Br()(l,2),f=p[0],d=p[1],y="".concat(f,"|").concat(d),b=i.map((function(e){return An(e,t.state.sortBy)})),m=qn(y,b);f.length&&d.length&&this.setState({sortBy:m})}a!==e.unbxdCoreStatus&&a===P&&o!==s&&""===o&&(this.setState({sortBy:{value:""}}),c({sortBy:""}))}},{key:"getSortProps",value:function(){var e=this,t=this.props,r=t.unbxdCore,n=t.label,a=t.onSortChange,o=t.helpers.setSortConfiguration,i=(r.getPaginationInfo.bind(r)()||{}).noOfPages,c=void 0===i?0:i,s=this.props,u=s.sortOptions,l=void 0===u?[]:u,p=s.displayType,f=s.sortItemComponent,d=l.map((function(t,r){return An(t,e.state.sortBy,r)})),y=function(){var t=d.length?d[0]:{value:""};e.setState({sortBy:t}),o({sortBy:""},!0)},b=$n({sortOptions:d,displayType:p,noOfPages:c},this.state),m={sortItemComponent:f,onSortClick:function(t){var r=null;r=t.target?t.target.value:t.value;var n=qn(r,d),i=n.field,c=void 0===i?"":i,s=n.order,u=void 0===s?"":s;if(c.length&&u.length){z(a,[c,u],(function(){e.setState({sortBy:n}),o({sortBy:"".concat(c," ").concat(u)},!0)}))}else y()},onSortResetClick:y,label:n};return $n($n({},b),m)}},{key:"render",value:function(){var e=zn;return X(this.props.children,this.getSortProps(),e)}}]),r}(i.a.Component);Yn.propTypes={unbxdCore:s.a.object.isRequired,unbxdCoreStatus:s.a.string.isRequired,helpers:s.a.object.isRequired,sortOptions:s.a.arrayOf(s.a.shape({label:s.a.string,field:s.a.string,order:s.a.string})).isRequired,displayType:s.a.string,sortItemComponent:s.a.element,label:s.a.node,onSortChange:s.a.func};var Hn=Yn,Kn=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.helpers,s=r.unbxdState,u=s.viewType,l=s.sort;return i.a.createElement(Hn,a()({unbxdCore:n,unbxdCoreStatus:o,helpers:c,viewType:u,sort:l},t))}))};Kn.displayName="Sort",Kn.defaultProps={displayType:"DROPDOWN"},Kn.propTypes={sortOptions:s.a.arrayOf(s.a.shape({label:s.a.string,field:s.a.string,order:s.a.string})).isRequired,displayType:s.a.string,sortItemComponent:s.a.element,label:s.a.node,onSortChange:s.a.func};var Wn=Kn,Zn=function(e){var t=e.itemData,r=e.currentQuery,n=e.onClick,a=t.suggestion;return i.a.createElement("div",{className:"UNX-spellCheck__item"},i.a.createElement("div",{className:"UNX-spellCheck__query"},"Showing results for",i.a.createElement("span",{className:"-query"}," ",r)),i.a.createElement("div",{className:"UNX-spellCheck__suggestion"},"Did you mean",i.a.createElement("span",{className:"-suggestion",onClick:function(){n(t)},"data-testid":"UNX_spellCheck",tabIndex:0,role:"button"}," ",a),"?"))};Zn.propTypes={itemData:s.a.shape({suggestion:s.a.string,frequency:s.a.string}),currentQuery:s.a.string.isRequired};var Jn=Zn,ea=function(e){var t=e.spellChecks,r=e.currentQuery,n=e.onSuggestionClick,a=e.spellCheckItemComponent;return i.a.createElement(ye,{items:t,ListItem:a||Jn,idAttribute:"suggestion",onClick:n,currentQuery:r,className:"UNX-spellCheck__list"})};ea.propTypes={spellChecks:s.a.arrayOf(s.a.object),currentQuery:s.a.string,onSuggestionClick:s.a.func.isRequired,spellCheckItemComponent:s.a.element};var ta=ea;function ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var na=function(e){ee()(r,e);var t=ra(r);function r(e){var n;return K()(this,r),(n=t.call(this,e)).state={typedQuery:"",spellChecks:[],currentSuggestion:""},n}return Z()(r,[{key:"componentDidMount",value:function(){(0,this.props.helpers.setSpellCheckConfiguration)({enable:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.unbxdCore,n=t.unbxdCoreStatus,a=t.helpers.setSearchBoxConfiguration,o=t.query,i=(r.getSearchResults()||{}).numberOfProducts,c=void 0===i?0:i,s=r.getDidYouMeanFromResponse(),u=this.state.currentSuggestion;if(n!==e.unbxdCoreStatus&&"READY"===n&&0===c&&s.length){var l=s[0].suggestion;this.setState({typedQuery:o,currentSuggestion:l,spellChecks:s}),a({query:l})}else n!==e.unbxdCoreStatus&&n===P&&o!==e.query&&u.length&&o!==u&&this.setState({typedQuery:"",currentSuggestion:"",spellChecks:[]})}},{key:"getSpellCheckProps",value:function(){var e=this,t=this.props,r=t.helpers.setSearchBoxConfiguration,n=t.onSpellCheckClick,a=this.props.spellCheckItemComponent,o=this.state,i=o.typedQuery;return{spellChecks:o.spellChecks,currentQuery:i,onSuggestionClick:function(t){var a=t.suggestion;z(n,[a],(function(){r({query:a}),e.setState({typedQuery:"",spellChecks:[]})}))},spellCheckItemComponent:a}}},{key:"render",value:function(){var e=ta;return X(this.props.children,this.getSpellCheckProps(),e)}}]),r}(i.a.PureComponent);na.propTypes={unbxdCore:s.a.object.isRequired,helpers:s.a.object.isRequired,spellCheckItemComponent:s.a.element,onSpellCheckClick:s.a.func};var aa=na,oa=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.helpers,s=r.unbxdState.query;return i.a.createElement(aa,a()({unbxdCore:n,unbxdCoreStatus:o,helpers:c,query:s},t))}))};oa.displayName="SpellCheck",oa.propTypes={spellCheckItemComponent:s.a.element,onSpellCheckClick:s.a.func};var ia=oa;function ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ca(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ua=function(e,t){return e.find((function(e){return e.dataId==t}))},la=function(e,t){return e.map((function(e){var r=e.facetName;if(t[r]&&t[r].length){var n=sa(sa({facetType:q},e),{},{isSelected:!0}),a=t[r],o=n.values.map((function(e){var t=a.find((function(t){return e.dataId===t.dataId}));return t?sa(sa({},t),{},{facetName:r,isSelected:!0}):sa(sa({},e),{},{facetName:r})}));return n.values=o,n}var i=sa(sa({},e),{},{facetType:q}),c=i.values.map((function(e){return sa(sa({},e),{},{facetName:r})}));return i.values=c,i}))},pa=function(e){return{updateFacets:e.updateFacets.bind(e),deleteAFacet:e.deleteAFacet.bind(e),applyFacets:e.applyFacets.bind(e),clearFacets:e.clearFacets.bind(e),getSelectedFacet:e.getSelectedFacet.bind(e),getSelectedFacets:e.getSelectedFacets.bind(e),getFacets:e.getFacets.bind(e),setPageStart:e.setPageStart.bind(e),getResults:e.getResults.bind(e)}},fa=function(e){var t=e.itemData,r=e.onClick,n=t.name,a=t.count,o=t.isSelected,c=void 0!==o&&o,s=t.facetName,u="UNX-facet__item ".concat(c?"-selected":"");return i.a.createElement(ge,{className:u,onClick:function(){r(t)},"data-testid":"UNX_textFacet__facetItem","data-facet-name":s,"data-id":n},n," - ",a)};fa.propTypes={itemData:s.a.shape({name:s.a.string,count:s.a.number,dataId:s.a.string,isSelected:s.a.bool,facetName:s.a.string}).isRequired,onClick:s.a.func.isRequired};var da=fa;function ya(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ya(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ma(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var ga=function(e){ee()(r,e);var t=ma(r);function r(e){var n;K()(this,r),n=t.call(this,e);var a=e.textFacets;return n.state={textFacetsList:a},n.toggleViewLess=st.bind(ve()(n),"textFacetsList"),n.handleFilterChange=lt.bind(ve()(n),"textFacetsList"),n.handleCollapseToggle=ut.bind(ve()(n),"textFacetsList"),n}return Z()(r,[{key:"componentDidUpdate",value:function(e){var t=this,r=this.props,n=r.textFacets,a=r.transform;if(n!==e.textFacets){var o=n.map((function(e){var r=t.state.textFacetsList.find((function(t){return t.facetName===e.facetName}));return ba(ba({},e),{},{isOpen:!r||r.isOpen,filter:r?r.filter:"",viewLess:!!r&&r.viewLess})}));if(a&&"function"==typeof a){var i=a.call(o);this.setState((function(){return{textFacetsList:i}}))}else this.setState((function(){return{textFacetsList:o}}))}}},{key:"render",value:function(){var e=this,t=this.props,r=t.onFacetClick,n=t.onFacetClear,a=t.facetItemComponent,o=t.label,c=t.collapsible,s=t.searchable,u=t.enableViewMore,l=t.minViewMore,p=this.state.textFacetsList;return 0===p.length?null:i.a.createElement("div",{className:"UNX-textFacet__container"},o||null,p.map((function(t){var o=t.displayName,p=t.facetName,f=t.values,d=t.isOpen,y=void 0===d||d,b=t.filter,m=void 0===b?"":b,g=t.viewLess,h=t.isSelected,v=void 0!==h&&h,O=f;return m.length>0&&(O=f.filter((function(e){return e.name.toLowerCase().includes(m)}))),i.a.createElement("div",{className:"UNX-facet__element ".concat(y?"open":""),key:p},i.a.createElement("div",{className:"UNX-facet__header","data-unx_name":p},o,c&&i.a.createElement("span",{className:"-collapse-icon","data-unx_name":p,onClick:e.handleCollapseToggle,tabIndex:0,role:"button","aria-label":"".concat(y?"collapse":"open"," facets")})),s&&y&&i.a.createElement("div",{className:"UNX-facetFilter__container"},i.a.createElement(Se,{className:"-input",value:m,name:p,onChange:e.handleFilterChange,"data-testid":"UNX_searchFacets",ariaLabel:"".concat(o," facets filter")})),i.a.createElement(ye,{items:O,idAttribute:"dataId",ListItem:a||da,onClick:r,className:"UNX-facet__list ".concat(g?"UNX-facet__listShowLimited":"")}),v&&i.a.createElement("div",{className:"-clear","data-unx_name":p,onClick:n},"Clear"),u&&y&&f.length>l?i.a.createElement(we,{facetName:p,toggleViewLess:e.toggleViewLess,viewLess:g}):null)})))}}]),r}(i.a.Component);ga.propTypes={textFacets:s.a.arrayOf(s.a.object),selectedTextFacets:s.a.object,lastSelectedTextFacets:s.a.object,onFacetClick:s.a.func.isRequired,onFacetClear:s.a.func.isRequired,enableApplyFilters:s.a.bool.isRequired,unbxdCoreStatus:s.a.string.isRequired,facetItemComponent:s.a.element,label:s.a.node,collapsible:s.a.bool.isRequired,searchable:s.a.bool.isRequired,transform:s.a.func};var ha=ga;function va(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?va(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):va(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ca(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var Sa=function(e){ee()(r,e);var t=Ca(r);function r(){return K()(this,r),t.apply(this,arguments)}return Z()(r,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.unbxdCore,n=t.unbxdCoreStatus,a=t.helpers.manageTextFacets,o=(0,pa(r).getSelectedFacets)();n!==e.unbxdCoreStatus&&"READY"===n&&Object.keys(o).length&&a(null,null,null,D)}},{key:"getTextFacetsProps",value:function(){var e=this.props,t=e.unbxdCore,r=e.unbxdCoreStatus,n=e.facetItemComponent,a=e.enableApplyFilters,o=e.helpers.manageTextFacets,i=e.selectedTextFacets,c=e.label,s=e.collapsible,u=e.searchable,l=e.onFacetClick,p=e.transform,f=e.enableViewMore,d=e.minViewMore,y=pa(t),b=y.getFacets,m=y.updateFacets,g=y.deleteAFacet,h=y.getSelectedFacet,v=y.getSelectedFacets,O=y.setPageStart,C=y.getResults,S=b()||[],w=function(e){var t=e.selectedFacetName,r=e.selectedFacetId;g(t,void 0===r?null:r)},P=v(),F=la(S,Y(i,P)),j={onFacetClick:function(e){var t=e.facetName,r=e.dataId,n=e.isSelected,i=void 0!==n&&n,c=h(t),s=c.values,u=ua(void 0===s?[]:s,r),p=i?N:k;z(l,[u,p],(function(){a&&o(u,t,r,p),!i&&!a&&function(e){var t=e.selectedFacetName,r=e.selectedFacetId,n=e.facetData;m({selectedFacetName:t,selectedFacetId:r,facetData:n})}({selectedFacetName:t,selectedFacetId:r,facetData:c}),i&&!a&&w({selectedFacetName:t,selectedFacetId:r})}))},onFacetClear:function(e){var t=e.target.dataset.unx_name;z(l,[{facetName:t},I],(function(){a&&o(null,t,null,T),w({selectedFacetName:t}),O(0),C()}))},manageTextFacets:o,facetItemComponent:n,label:c,transform:p};return Oa(Oa({},{unbxdCoreStatus:r,textFacets:F,enableApplyFilters:a,lastSelectedTextFacets:P,selectedTextFacets:i,collapsible:s,searchable:u,enableViewMore:f,minViewMore:d}),j)}},{key:"render",value:function(){var e=ha;return X(this.props.children,this.getTextFacetsProps(),e)}}]),r}(i.a.PureComponent);Sa.propTypes={unbxdCore:s.a.object.isRequired,unbxdCoreStatus:s.a.string.isRequired,helpers:s.a.object.isRequired,facetItemComponent:s.a.element,enableApplyFilters:s.a.bool.isRequired,selectedTextFacets:s.a.object.isRequired,label:s.a.node,collapsible:s.a.bool.isRequired,searchable:s.a.bool.isRequired,onFacetClick:s.a.func,transform:s.a.func};var wa=Sa,Pa=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.helpers,s=r.unbxdState,u=s.enableApplyFilters,l=s.selectedTextFacets;return i.a.createElement(wa,a()({unbxdCore:n,unbxdCoreStatus:o,helpers:c,enableApplyFilters:u,selectedTextFacets:l},t))}))};Pa.displayName="TextFacets",Pa.defaultProps={collapsible:!1,searchable:!1,minViewMore:3,enableViewMore:!1},Pa.propTypes={collapsible:s.a.bool,searchable:s.a.bool,enableViewMore:s.a.bool,minViewMore:s.a.number,facetItemComponent:s.a.element,label:s.a.node,onFacetClick:s.a.func,transform:s.a.func};var Fa=Pa;function ja(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ja(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ja(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var ka=function(e){ee()(r,e);var t=xa(r);function r(e){var n;return K()(this,r),(n=t.call(this,e)).state={combinedFacetsList:e.combinedFacets},n.toggleViewLess=st.bind(ve()(n),"combinedFacetsList"),n.handleFilterChange=lt.bind(ve()(n),"combinedFacetsList"),n.handleCollapseToggle=ut.bind(ve()(n),"combinedFacetsList"),n}return Z()(r,[{key:"componentDidUpdate",value:function(e){var t=this,r=this.props,n=r.combinedFacets,a=r.transform;if(n!==e.combinedFacets){var o=b()(n);if(o.sort((function(e,t){return e.position-t.position})),o=o.map((function(e){var r=t.state.combinedFacetsList.find((function(t){return t.facetName===e.facetName})),n=Ra({},e);return r?Ra(Ra({},n),{},{viewLess:r.viewLess,filter:r.filter,isOpen:r.isOpen}):Ra({},n)})),a&&"function"==typeof a){var i=a.call(o);this.setState((function(){return{combinedFacetsList:i}}))}else this.setState((function(){return{combinedFacetsList:o}}))}}},{key:"render",value:function(){var e=this,t=this.props,r=t.onTextFacetClick,n=t.onTextFacetClear,a=t.onRangeFacetClick,o=t.onRangeFacetClear,c=t.onMultilevelFacetClick,s=t.textFacetItemComponent,u=t.rangeFacetItemComponent,l=t.collapsible,p=t.searchable,f=t.multilevelFacetItemComponent,d=t.priceUnit,y=t.enableViewMore,b=t.minViewMore,m=this.state.combinedFacetsList;return m&&0===m.length?null:i.a.createElement("div",null,m.map((function(t){if(t.facetType===q){var m=t.displayName,g=t.facetName,h=t.values,v=t.isOpen,O=void 0===v||v,C=t.filter,S=void 0===C?"":C,w=t.viewLess,P=t.isSelected,F=void 0!==P&&P,j=h;return S&&S.length>0&&(j=h.filter((function(e){return e.name.toLowerCase().includes(S)}))),i.a.createElement("div",{className:"UNX-textFacet__container",key:g},i.a.createElement("div",{className:"UNX-facet__element ".concat(O?"open":""),key:g},i.a.createElement("div",{className:"UNX-facet__header","data-unx_name":g},m,l&&i.a.createElement("span",{className:"-collapse-icon","data-unx_name":g,onClick:e.handleCollapseToggle})),p&&O&&i.a.createElement("div",{className:"UNX-facetFilter__container"},i.a.createElement(Se,{className:"-input",value:S,name:g,onChange:e.handleFilterChange})),i.a.createElement(ye,{items:j,ListItem:s||da,idAttribute:"dataId",onClick:r,className:"UNX-facet__list ".concat(w?"UNX-facet__listShowLimited":"")}),F&&i.a.createElement("div",{className:"-clear","data-unx_name":g,onClick:n},"Clear"),y&&O&&j&&j.length>b?i.a.createElement(we,{facetName:g,toggleViewLess:e.toggleViewLess,viewLess:w}):null))}if(t.facetType===L){var R=t.filterField,x=t.displayName,k=t.values,N=t.isOpen,T=void 0===N||N,I=t.filter,E=void 0===I?"":I,D=t.viewLess,_=k;return E&&E.length>0&&(_=k.filter((function(e){return e.name.toLowerCase().includes(E)}))),i.a.createElement("div",{className:"UNX-bucketedFacet__container",key:R},i.a.createElement("div",{className:"UNX-facet__element ".concat(T?"open":"")},i.a.createElement("div",{className:"UNX-facet__header"},x,l&&i.a.createElement("span",{className:"-collapse-icon","data-unx_name":R,onClick:e.handleCollapseToggle})),p&&T&&i.a.createElement("div",{className:"UNX-facetFilter__container"},i.a.createElement(Se,{className:"-input",value:E,name:R,onChange:e.handleFilterChange,"data-testid":"UNX_searchFacets"})),i.a.createElement(ye,{items:_,ListItem:f||ft,idAttribute:"dataId",onClick:c,className:"UNX-facet__list ".concat(D?"UNX-facet__listShowLimited":"")}),y&&T&&_.length>b?i.a.createElement(we,{facetName:R,toggleViewLess:e.toggleViewLess,viewLess:D}):null))}var U=t.displayName,A=t.isOpen,M=void 0===A||A,B=t.facetName,V=t.values,X=t.isSelected,z=t.viewLess;return i.a.createElement("div",{className:"UNX-rangefacet__container",key:B},i.a.createElement("div",{className:"UNX-facet__element ".concat(M?"open":""),key:B},i.a.createElement("div",{className:"UNX-facet__headerContainer"},i.a.createElement("div",{className:"UNX-facet__header"},U,l&&i.a.createElement("span",{className:"-collapse-icon","data-unx_name":B,onClick:e.handleCollapseToggle}))),i.a.createElement(ye,{items:V,ListItem:u||Dr,onClick:a,idAttribute:"dataId",facetName:B,className:"UNX-facet__list ".concat(z?"UNX-facet__listShowLimited":""),priceUnit:d}),X&&i.a.createElement("div",{onClick:o,"data-unx_facetname":B,className:"-clear"},"Clear"),y&&M&&V&&V.length>b?i.a.createElement(we,{facetName:B,toggleViewLess:e.toggleViewLess,viewLess:z}):null))})))}}]),r}(i.a.Component);function Na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Na(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var Ea=function(e){ee()(r,e);var t=Ia(r);function r(){return K()(this,r),t.apply(this,arguments)}return Z()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.helpers,r=e.applyMultiple;(0,t.setRangeFacetsConfiguration)({applyMultiple:r})}},{key:"getCombinedFacetsProps",value:function(){var e=this,t=this.props,r=t.unbxdCore,n=t.unbxdCoreStatus,a=t.helpers,o=a.manageTextFacets,i=a.manageRangeFacets,c=t.selectedTextFacets,s=t.selectedRangeFacets,u=t.textFacetItemComponent,l=t.enableApplyFilters,p=t.rangeFacetItemComponent,f=t.multilevelFacetItemComponent,d=t.priceUnit,y=t.transform,m=t.collapsible,g=t.searchable,v=t.enableViewMore,O=t.minViewMore,C=t.label,S=t.onFacetClick,w=t.applyMultiple,P=t.productType,F=pa(r),j=F.getFacets,R=F.getSelectedFacet,x=F.getSelectedFacets,T=F.updateFacets,E=F.deleteAFacet,D=F.setPageStart,_=F.getResults,U=$r(r),A=U.getRangeFacets,q=U.setRangeFacet,M=U.applyRangeFacet,B=U.clearARangeFacet,V=U.lastSelectedRangeFacets,X=nt(r),Q=X.getBucketedFacets,$=X.getBreadCrumbsList,G=X.setCategoryFilter,H=X.deleteCategoryFilter,K=j()||[],W=x(),Z=A()||[],J=Q()||[],ee=la(K,Y(c,W)),te=zr(V),re=Qr(Z,Y(s,te,w)),ne=rt(J,r),ae=[].concat(b()(ee),b()(re),b()(ne));ae&&ae.length&&ae.sort((function(e,t){return e.position-t.position}));var oe=function(e){var t=e.selectedFacetName,r=e.selectedFacetId;E(t,void 0===r?null:r)},ie=function(e){var t=e.facetName,r=e.start,n=e.end,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];q({facetName:t,start:r,end:n,applyMultiple:w}),a&&M()},ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];B(e),t&&M()},se={onTextFacetClick:function(e){var t=e.facetName,r=e.dataId,n=e.isSelected,a=void 0!==n&&n,i=R(t),c=i.values,s=ua(void 0===c?[]:c,r),u=a?N:k;z(S,[s,u],(function(){l&&o(s,t,r,u),!a&&!l&&function(e){var t=e.selectedFacetName,r=e.selectedFacetId,n=e.facetData;T({selectedFacetName:t,selectedFacetId:r,facetData:n})}({selectedFacetName:t,selectedFacetId:r,facetData:i}),a&&!l&&oe({selectedFacetName:t,selectedFacetId:r})}))},onTextFacetClear:function(e){var t=e.target.dataset.unx_name,r=I;z(S,[{facetName:t},r],(function(){l&&o(null,t,null,r),oe({selectedFacetName:t}),D(0),_()}))},onRangeFacetClick:function(e){var t=e.from,r=e.end,n=e.facetName,a=e.dataId,o=e.isSelected,c=void 0!==o&&o,s=t.dataId,u=r.dataId,p={facetName:n,valMin:s,valMax:u,isSelected:c,dataId:a},f=c?N:k;z(S,[p,f],(function(){l&&i(p,n,a,f),!c&&!l&&ie({facetName:n,start:s,end:u,applyMultiple:w},!0),!l&&ie({facetName:n,start:s,end:u,applyMultiple:w},!0),c&&!w&&!l&&ce(n,!0)}))},onRangeFacetClear:function(e){var t=e.target.dataset.unx_facetname,r=I;z(S,[{facetName:t},r],(function(){l&&i(null,t,null,r),ce(t),D(0),_()}))},onMultilevelFacetClick:function(t){var n=t.name,a=t.filterField,o=t.level,i={parent:a,level:o,name:n},c=e.props.helpers.getUpdatedResults,s=ne.find((function(e){return e.filterField===a})).highestBreadcrumbLevel;z(S,[i,L],(function(){if(s===parseInt(o))H(i);else{var e=$(a);if(P===h)r.state.categoryFilter[a]=[],$(a).forEach((function(e){var t=e.value,r=e.level;G({parent:a,level:r,name:t})})),i.level>=s?G(i):H(i),c();else e.find((function(e){var t=e.value;return n===t}))?H(i):G(i)}c()}))},textFacetItemComponent:u,multilevelFacetItemComponent:f,label:C,addRangeFacet:ie,applyRangeFacet:M,removeRangeFacet:ce,selectedRangeFacets:s,selectedTextFacets:c,manageTextFacets:o,manageRangeFacets:i,rangeFacetItemComponent:p,transform:y};return Ta(Ta({},{unbxdCoreStatus:n,combinedFacets:ae,enableApplyFilters:l,lastSelectedTextFacets:W,selectedTextFacets:c,priceUnit:d,collapsible:m,searchable:g,enableViewMore:v,minViewMore:O,applyMultiple:w}),se)}},{key:"render",value:function(){var e=ka;return X(this.props.children,this.getCombinedFacetsProps(),e)}}]),r}(i.a.PureComponent);Ea.propTypes={unbxdCore:s.a.object.isRequired,unbxdCoreStatus:s.a.string.isRequired,helpers:s.a.object.isRequired,priceUnit:s.a.string.isRequired,selectedTextFacets:s.a.object,selectedRangeFacets:s.a.object,enableApplyFilters:s.a.bool.isRequired,collapsible:s.a.bool,searchable:s.a.bool,textFacetItemComponent:s.a.element,multilevelFacetItemComponent:s.a.element,rangeFacetItemComponent:s.a.element,transform:s.a.func,label:s.a.node,onFacetClick:s.a.func,applyMultiple:s.a.bool,enableViewMore:s.a.bool,minViewMore:s.a.number,children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node])};var Da=Ea,_a=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.helpers,s=r.unbxdState,u=r.priceUnit,l=r.productType,p=s.enableApplyFilters,f=s.selectedTextFacets,d=s.selectedRangeFacets;return i.a.createElement(Da,a()({unbxdCore:n,unbxdCoreStatus:o,helpers:c,productType:l,enableApplyFilters:p,selectedTextFacets:f,selectedRangeFacets:d,priceUnit:u},t))}))};_a.displayName="CombinedFacets",_a.defaultProps={collapsible:!1,searchable:!1,enableViewMore:!1,minViewMore:3},_a.propTypes={collapsible:s.a.bool,searchable:s.a.bool,enableViewMore:s.a.bool,minViewMore:s.a.number,applyMultiple:s.a.bool,textFacetItemComponent:s.a.element,rangeFacetItemComponent:s.a.element,multilevelFacetItemComponent:s.a.element,label:s.a.node,onFacetClick:s.a.func,transform:s.a.func};var Ua=_a,Aa=function(e){var t=e.viewTypes,r=e.onViewTypeClick,n=e.viewItemComponent;return i.a.createElement(ye,{idAttribute:"viewType",items:t,ListItem:n,onClick:r,className:"UNX-viewTypes__list"})};Aa.propTypes={viewTypes:s.a.arrayOf(s.a.shape({viewType:s.a.string.isRequired,isSelected:s.a.bool.isRequired})),onViewTypeClick:s.a.func.isRequired,viewItemComponent:s.a.element};var qa=Aa,Ma=function(e){var t=e.viewType,r=e.viewTypes,n=e.onViewTypeClick;return i.a.createElement("select",{name:"productsview",className:"UNX-viewTypes__dropdown",value:t,onChange:n},r.map((function(e){var t=e.viewType,r="GRID"===t?"UNX_gridBtn":"UNX_listBtn";return i.a.createElement("option",{value:t,key:t,"data-testid":r},t)})))};Ma.propTypes={viewType:s.a.string,viewTypes:s.a.arrayOf(s.a.shape({isSelected:s.a.bool,viewType:s.a.string})),onViewTypeClick:s.a.func.isRequired};var La=Ma,Ba=function(e){var t=e.viewType,r=e.viewTypes,n=e.displayType,a=e.viewItemComponent,o=e.numberOfProducts,c=e.validViewTypes,s=e.handleViewTypeClick;return c.length<2||0===o?null:i.a.createElement("div",{className:"UNX-viewTypes__container"},n===R&&i.a.createElement(La,{viewType:t,viewTypes:r,onViewTypeClick:s}),n===j&&i.a.createElement(qa,{viewType:t,viewTypes:r,onViewTypeClick:s,viewItemComponent:a}))};Ba.propTypes={viewType:s.a.string,viewTypes:s.a.arrayOf(s.a.shape({viewType:s.a.string.isRequired,isSelected:s.a.bool.isRequired})),displayType:s.a.string,numberOfProducts:s.a.number.isRequired,validViewTypes:s.a.array.isRequired,handleViewTypeClick:s.a.func.isRequired,viewItemComponent:s.a.element};var Va=Ba;function Xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var za=function(e){ee()(r,e);var t=Xa(r);function r(){return K()(this,r),t.apply(this,arguments)}return Z()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.helpers.setViewTypeConfiguration,r=e.viewType,n=e.viewTypes,a=e.unbxdCore.getQueryParams().viewType;t(a?{viewType:a}:{viewType:r||n[0]})}},{key:"getViewTypesProps",value:function(){var e=this.props,t=e.unbxdCore,r=e.viewType,n=e.viewTypes,a=e.displayType,o=e.viewItemComponent,i=e.helpers.handleViewTypeClick,c=(t.getSearchResults()||{}).numberOfProducts,s=void 0===c?0:c,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter((function(e){return x[e]}));return t.length?t:[x.GRID]}(n),l=n.map((function(e){return{viewType:e,isSelected:e===r}}));return{viewType:r,viewTypes:l,displayType:a,viewItemComponent:o,handleViewTypeClick:i,numberOfProducts:s,validViewTypes:u}}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.unbxdCore,n=t.unbxdCoreStatus,a=t.viewType,o=t.helpers.setViewTypeConfiguration,i=r.getQueryParams().viewType;a!==e.viewType&&a!==i?o({viewType:a}):i&&n===P&&a===e.viewType&&a!==i&&o({viewType:i},!0)}},{key:"render",value:function(){var e=Va;return X(this.props.children,this.getViewTypesProps(),e)}}]),r}(i.a.PureComponent);za.propTypes={unbxdCore:s.a.object.isRequired,unbxdCoreStatus:s.a.string.isRequired,helpers:s.a.object.isRequired,viewType:s.a.string,viewTypes:s.a.arrayOf(s.a.string),displayType:s.a.string,viewItemComponent:s.a.element};var Qa=za,$a=function e(t){return i.a.createElement(p,null,(function(r){void 0===r&&Q(e.displayName);var n=r.unbxdCore,o=r.unbxdCoreStatus,c=r.helpers,s=r.unbxdState.viewType;return i.a.createElement(Qa,a()({unbxdCore:n,unbxdCoreStatus:o,helpers:c,viewType:s},t))}))};$a.displayName="ViewTypes",$a.defaultProps={viewTypes:["GRID"],displayType:"DROPDOWN"},$a.propTypes={viewTypes:s.a.arrayOf(s.a.string),displayType:s.a.string,viewItemComponent:s.a.element};var Ga=$a,Ya=r(14),Ha=r.n(Ya);function Ka(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ka(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Za=function(e){var t=e.pageSize,r=e.requiredFields,n=e.showVariants,a=void 0===n||n,o=e.variantsCount,i=void 0===o?0:o,c=e.variantRequiredFields,s=e.groupBy,u=e.paginationType;this.state.unbxdCore.setProductAttributes(r),a&&this.state.unbxdCore.setShowVariants(a),i>0&&this.state.unbxdCore.setVariantsCount(i),Object.keys(c).length>0&&this.state.unbxdCore.setVariantAttributes(c),s.length>0&&this.state.unbxdCore.setVariantsGroupBy(s),this.state.unbxdCore.options.pagination.type=u===_||u===U||u===A?u:A,u!==_&&u!==U||this.state.unbxdCore.setPageSize(t),this.setState((function(e){return Wa(Wa({},e),{},{unbxdState:Wa(Wa({},e.unbxdState),{},{paginationType:u})})}))};function Ja(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ja(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var to=function(e){var t=this.state,r=t.unbxdCore,n=t.helpers.getUpdatedResults;r.options.productType=g,n(e),this.setState((function(t){return eo(eo({},t),{},{productType:g,categoryId:"",unbxdState:eo(eo({},t.unbxdState),{},{query:e.query})})}))};var ro=function(e){var t=e.enable,r=void 0!==t&&t;this.state.unbxdCore.setSpellCheck(r)};function no(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?no(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):no(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.size,n=this.state.unbxdCore;n.setPageSize(r),this.setState((function(e){return ao(ao({},e),{},{unbxdState:ao(ao({},e.unbxdState),{},{pageSize:r})})})),t?(n.setPageStart(0),n.getResults()):n.setPageStart(0)};function io(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?io(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):io(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var so=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.sortBy;this.setState((function(e){return co(co({},e),{},{unbxdState:co(co({},e.unbxdState),{},{sort:r})})})),t?this.state.unbxdCore.applySort(r):this.state.unbxdCore.setSort(r)};function uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var po=function(e){var t=e.applyMultiple;this.setState((function(e){return lo(lo({},e),{},{unbxdState:lo(lo({},e.unbxdState),{},{applyMultiple:t})})}))};var fo=function(e){var t=e.enable,r=void 0!==t&&t;this.state.unbxdCore.options.applyMultipleFilters=r};function yo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.viewType;this.setState((function(e){return bo(bo({},e),{},{unbxdState:bo(bo({},e.unbxdState),{},{viewType:r})})}));var n=this.state.unbxdCore;n.options.extraParams.viewType=r,t&&(n.options.extraParams.viewType=r,n.getResults())};function go(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?go(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):go(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vo(e){var t=function(e,t){if("object"!==ot()(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ot()(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ot()(t)?t:String(t)}var Oo=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0;this.setState((function(o){var i,c=o.unbxdState,s=se()(o,["unbxdState"]),u=c.selectedTextFacets,l=u.add,p=u.remove,f=e.state.unbxdCore,y=(0,pa(f).getSelectedFacets)();switch(a){case k:var m=l[r],g=void 0===m?[]:m,h=se()(l,[r].map(vo)),v=[].concat(b()(g),[t]),O=p[r],C=void 0===O?[]:O,S=se()(p,[r].map(vo)),w=C.filter((function(e){return e.dataId!==n}));i={add:ho(ho({},h),{},d()({},r,v)),remove:ho(ho({},S),{},d()({},r,w))};var P=Y(i,y);i=ho(ho({},i),{},{list:P});break;case N:var F=l[r],j=void 0===F?[]:F,R=se()(l,[r].map(vo)),x=j.filter((function(e){return e.dataId!==n})),_=p[r],U=void 0===_?[]:_,A=se()(p,[r].map(vo)),q=[].concat(b()(U),[t]);i={add:ho(ho({},R),{},d()({},r,x)),remove:ho(ho({},A),{},d()({},r,q))};var M=Y(i,y);i=ho(ho({},i),{},{list:M});break;case E:var L=Y(i={add:{},remove:{}},y);i=ho(ho({},i),{},{list:L});break;case D:i={add:ho({},l),remove:ho({},p)};var B=Y(i,y);i=ho(ho({},i),{},{list:B});break;case I:l[r];var V=se()(l,[r].map(vo)),X=(p[r],se()(p,[r].map(vo)));i={add:ho({},V),remove:ho({},X),list:{}};break;case T:i={add:{},remove:{},list:{}};break;default:return null}return ho(ho({},s),{},{unbxdState:ho(ho({},c),{},{selectedTextFacets:i})})}))};function Co(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Co(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wo(e){var t=function(e,t){if("object"!==ot()(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ot()(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ot()(t)?t:String(t)}var Po=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0;this.setState((function(o){var i,c=o.unbxdState,s=se()(o,["unbxdState"]),u=c.selectedRangeFacets,l=c.applyMultiple,p=u.add,f=u.remove,y=e.state.unbxdCore,m=$r(y).lastSelectedRangeFacets,g=zr(m),h=l?"dataId":"facetName",v=l?n:r;switch(a){case k:var O=p[r],C=void 0===O?[]:O,S=se()(p,[r].map(wo)),w=[].concat(b()(C),[t]),P=f[r],F=void 0===P?[]:P,j=se()(f,[r].map(wo)),R=F.filter((function(e){return e[h]!==v}));i={add:So(So({},S),{},d()({},r,w)),remove:So(So({},j),{},d()({},r,R))};var x=Y(i,g);i=So(So({},i),{},{list:x});break;case N:var _=p[r],U=void 0===_?[]:_,A=se()(p,[r].map(wo)),q=U.filter((function(e){return e[h]!==v})),M=f[r],L=void 0===M?[]:M,B=se()(f,[r].map(wo)),V=[].concat(b()(L),[t]);i={add:So(So({},A),{},d()({},r,q)),remove:So(So({},B),{},d()({},r,V))};var X=Y(i,g);i=So(So({},i),{},{list:X});break;case E:var z=Y(i={add:{},remove:{}},g);i=So(So({},i),{},{list:z});break;case D:i={add:So({},p),remove:So({},f)};var Q=Y(i,g);i=So(So({},i),{},{list:Q});break;case I:p[r];var $=se()(p,[r].map(wo)),G=(f[r],se()(f,[r].map(wo)));i={add:So({},$),remove:So({},G),list:{}};break;case T:i={add:{},remove:{},list:{}};break;default:return null}return So(So({},s),{},{unbxdState:So(So({},c),{},{selectedRangeFacets:i})})}))};function Fo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ro=function(e){var t=e.state.selectedFacets,r=e.state.rangeFacet,n=e.state.categoryFilter,a=Object.keys(t),o=Object.keys(n),i={};a.forEach((function(e){var r=t[e],n=[];r.forEach((function(e){n.push(e.name)})),i[e]=n}));var c=r,s={};return o.forEach((function(e){var t=n[e];if(Array.isArray(t)){var r=t.join(">");s[e]=r}})),jo(jo(jo({},i),c),s)};var xo=function(e,t,r){if(t===O){this.setState({unbxdCore:e,unbxdCoreStatus:w});var n=this.props.onRouteChange;"function"==typeof n&&n(e,e.getStateString())}if(t===v&&this.setState({unbxdCore:e,unbxdCoreStatus:P}),t===C&&this.setState({unbxdCore:e,unbxdCoreStatus:F}),t===S){var a=this.state,o=a.helpers.getAnalytics,i=a.unbxdState,c=o().trackFacetClick,s=i.enableApplyFilters,u=e.getSearchQuery()||"";s||c(u,Ro(e))}};function ko(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ko(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ko(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var To=function(e){var t=e.target?e.target.value:e.viewType;this.state.unbxdCore.options.extraParams.viewType=t;var r=this.state,n=r.unbxdCore,a=r.unbxdState;a.paginationType!==_&&a.paginationType!==U||n.setPageStart(0),n.getResults(),this.setState((function(e){return No(No({},e),{},t===x.GRID?{unbxdState:No(No({},e.unbxdState),{},{viewType:x.GRID})}:{unbxdState:No(No({},e.unbxdState),{},{viewType:x.LIST})})}))};var Io=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,r=this.state.unbxdCore;r.setPageStart(0),r.getResults(t)};var Eo=function(){var e=this.state,t=e.unbxdCore,r=e.helpers,n=r.manageTextFacets,a=r.manageRangeFacets,o=r.setSortConfiguration;null!==t.state.responseObj&&(t.state.selectedSort=""),n(null,null,null,T),a(null,null,null,T),o({sortBy:""}),t.state.selectedFacets={},t.state.rangeFacet={},t.setPageStart(0),t.state.categoryFilter={},t.state.breadcrumbs={}};function Do(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var _o=function(){var e=this.state.enableUnbxdAnalytics,t=function(e){console.error("Error tracking::",e)};return{trackSearch:function(r){if(e)try{Unbxd.track("search",{query:r})}catch(e){t(e)}},trackCategory:function(r){if(e)try{Unbxd.track("categoryPage",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Do(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r))}catch(e){t(e)}},trackProductClick:function(r,n){if(e)try{Unbxd.track("click",{pid:r,prank:n})}catch(e){t(e)}},trackProductImpressions:function(r,n){if(e)try{Unbxd.track("search_impression",{query:r,pids_list:n})}catch(e){t(e)}},trackFacetClick:function(r,n){if(e)try{Unbxd.track("facets",{query:r,facets:n})}catch(e){t(e)}}}},Uo=function(){var e=this.options.productType,t=this.getNewUrlState(!0).split("".concat(e.toLocaleLowerCase(),"?"))[1];return this.state.urlState=t,t};r(15);function Ao(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ao(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ae()(e);if(t){var a=ae()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return re()(this,r)}}var Lo={viewType:"",paginationType:A,enableApplyFilters:!1,selectedTextFacets:{add:{},remove:{},list:{}},selectedRangeFacets:{add:{},remove:{},list:{}},applyMultiple:!1,pageSize:10,sort:"",query:""},Bo=function(e){ee()(r,e);var t=Mo(r);function r(e){var n;K()(this,r);var a=(n=t.call(this,e)).props,o=a.siteKey,i=a.apiKey,c=a.searchConfigurations,s=a.getCategoryId,u=a.productType,l=a.priceUnit;return Ha.a.prototype.getStateString||(Ha.a.prototype.getStateString=Uo),n.unbxdCallBack=xo.bind(ve()(n)),n.setPageSizeConfiguration=oo.bind(ve()(n)),n.setSortConfiguration=so.bind(ve()(n)),n.setRangeFacetsConfiguration=po.bind(ve()(n)),n.setFacetsActionConfiguration=fo.bind(ve()(n)),n.setProductConfiguration=Za.bind(ve()(n)),n.setSearchBoxConfiguration=to.bind(ve()(n)),n.setSpellCheckConfiguration=ro.bind(ve()(n)),n.setViewTypeConfiguration=mo.bind(ve()(n)),n.manageTextFacets=Oo.bind(ve()(n)),n.manageRangeFacets=Po.bind(ve()(n)),n.handleViewTypeClick=To.bind(ve()(n)),n.getUpdatedResults=Io.bind(ve()(n)),n.resetSearch=Eo.bind(ve()(n)),n.getAnalytics=_o.bind(ve()(n)),n.state={unbxdCore:new Ha.a(qo(qo(qo({},m),c),{},{siteKey:o,apiKey:i,onEvent:n.unbxdCallBack,getCategoryId:s})),productType:u,categoryId:"",unbxdState:Lo,unbxdCoreStatus:w,enableUnbxdAnalytics:c.enableUnbxdAnalytics,helpers:{setProductConfiguration:n.setProductConfiguration,setSearchBoxConfiguration:n.setSearchBoxConfiguration,setPageSizeConfiguration:n.setPageSizeConfiguration,setSortConfiguration:n.setSortConfiguration,setRangeFacetsConfiguration:n.setRangeFacetsConfiguration,setFacetsActionConfiguration:n.setFacetsActionConfiguration,setSpellCheckConfiguration:n.setSpellCheckConfiguration,setViewTypeConfiguration:n.setViewTypeConfiguration,manageTextFacets:n.manageTextFacets,manageRangeFacets:n.manageRangeFacets,handleViewTypeClick:n.handleViewTypeClick,getUpdatedResults:n.getUpdatedResults,resetSearch:n.resetSearch,getAnalytics:n.getAnalytics,getActiveFacets:Ro},priceUnit:l},n.initialResultLoad=!0,n}return Z()(r,[{key:"componentDidMount",value:function(){var e=this.state.unbxdCore,t=this.getAnalytics().trackCategory,r="function"==typeof e.options.getCategoryId&&e.options.getCategoryId();e.options.applyMultipleFilters&&this.setState((function(e){return qo(qo({},e),{},{unbxdState:qo(qo({},e.unbxdState),{},{enableApplyFilters:!0})})})),r&&"string"==typeof r&&r.length>0&&(this.setState((function(e){return qo(qo({},e),{},{categoryId:r,productType:h})})),e.options.productType=h,e.getResults(),t(window.UnbxdAnalyticsConf)),e.options.hashMode&&(window.onhashchange=e.onLocationChange.bind(e))}},{key:"componentDidUpdate",value:function(e){var t=e.refreshId,r=this.props,n=r.productType,a=r.onRouteChange,o=this.state,i=o.unbxdCore,c=o.categoryId,s=(o.unbxdState.query,this.getAnalytics().trackCategory),u=i.getQueryParams(),l=i.getResults.bind(i),p=i.renderFromUrl.bind(i),f="function"==typeof i.options.getCategoryId&&i.options.getCategoryId();if(i.options.productType=n,c!==f&&n===h&&"string"==typeof f&&f.length>0)this.setState((function(e){return qo(qo({},e),{},{categoryId:f,productType:h})})),i.options.productType=h,0===c.length&&Object.keys(u).length?p():(this.resetSearch(),l()),s(window.UnbxdAnalyticsConf);else if(null===i.getResponseObj()&&u[i.options.searchQueryParam])p();else if(t!==this.props.refreshId&&(this.resetSearch(),a(i,"",t))){i.options.productType=n;var d=u[i.options.searchQueryParam];n===g?l(d):l()}}},{key:"getProps",value:function(){var e=this.state;return{unbxdCore:e.unbxdCore,unbxdCoreStatus:e.unbxdCoreStatus,unbxdState:e.unbxdState,helpers:e.helpers,priceUnit:e.priceUnit,productType:e.productType}}},{key:"render",value:function(){var e=this.state.unbxdCoreStatus,t=this.props,r=t.loaderComponent,n=t.errorComponent;return e===F?n?G(n):i.a.createElement("div",{className:"UNX-mainError"},"Something went wrong..."):i.a.createElement(i.a.Fragment,null,e===P&&r&&G(r),i.a.createElement(l,{value:this.getProps()},this.props.children))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.productType!==t.productType?{productType:e.productType}:null}}]),r}(o.Component);Bo.defaultProps={productType:"SEARCH",priceUnit:"$",searchConfigurations:{}},Bo.propTypes={siteKey:s.a.string.isRequired,apiKey:s.a.string.isRequired,getCategoryId:s.a.func,productType:s.a.string,priceUnit:s.a.string,loaderComponent:s.a.element,errorComponent:s.a.element,refreshId:s.a.oneOfType([s.a.string,s.a.number]),searchConfigurations:s.a.object,onRouteChange:s.a.func,children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node])};var Vo=Bo;t.default=Vo}])}));